# 深浅拷贝

这是一节补充内容 我自己也不了解什么内存池什么的

```python
l2=l1
```

对于赋值运算来说,2个列表名,指向的是同一个内存地址，所以他们是完全一样的。



```python
l2=l1.copy()
```

对于浅copy来说，只是在内存中重新创建了开辟了一个空间存放一个新列表，但是新列表中的元素与原列表中的元素是公用的。



```python
import copy
l2 = copy.deepcopy(l1)
```

对于深copy来说，列表是在内存中重新创建的，列表中可变的数据类型是重新创建的，列表中的不可变的数据类型是公用的。



前端面试中经常问到JavaScript深拷贝实现,现在来一个python版本的:

> ##### 如果需要自己写一个函数来实现深拷贝，那么可以通过递归实现。
>
> ```python
> dt = {"a": "aaa", "b": "bbb", "c": {"c1": 11, "c2": {"c21": "211", "c22": "212", "c23": "213"}, "c3": 33}}
> 
> def copy_dict(d):
>     res = {}
>     if not d:
>         return {}
>     for key, value in d.items():
>         # 如果不是dict字典，则直接赋值
>         if not isinstance(value, dict):
>             res[key] = value
>         # 如果还是字典，递归调用copy_dict(d)
>         else:
>             res[key] = copy_dict(value)
>     return res
> 
> print("复制前：" + str(dt))
> copy_dt = copy_dict(dt)
> print("复制后：" + str(copy_dict(dt)))
> ```