<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>封装和继承 | nanarino note</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="shortcut icon" href="./favicon.ico">
    <meta name="description" content="今年的冬天很长吧？然后我最喜欢的赏樱推迟又推……终于，以为到了春天，樱花却突然很快的开了，又很快地凋谢了……这么悔恨的年份根本就没有吧？">
    
    <link rel="preload" href="/markdown-note/assets/css/0.styles.9d4be43c.css" as="style"><link rel="preload" href="/markdown-note/assets/js/app.6b4725cf.js" as="script"><link rel="preload" href="/markdown-note/assets/js/8.ae913670.js" as="script"><link rel="preload" href="/markdown-note/assets/js/1.5bc6bece.js" as="script"><link rel="preload" href="/markdown-note/assets/js/10.7e5ef7e5.js" as="script"><link rel="prefetch" href="/markdown-note/assets/js/11.301d9dda.js"><link rel="prefetch" href="/markdown-note/assets/js/12.c9b915b3.js"><link rel="prefetch" href="/markdown-note/assets/js/13.84c13ead.js"><link rel="prefetch" href="/markdown-note/assets/js/14.de9f92e2.js"><link rel="prefetch" href="/markdown-note/assets/js/15.8db858c1.js"><link rel="prefetch" href="/markdown-note/assets/js/16.f9ff9ab3.js"><link rel="prefetch" href="/markdown-note/assets/js/17.8259891a.js"><link rel="prefetch" href="/markdown-note/assets/js/18.c614dbf8.js"><link rel="prefetch" href="/markdown-note/assets/js/19.980ac3ed.js"><link rel="prefetch" href="/markdown-note/assets/js/20.8863a63e.js"><link rel="prefetch" href="/markdown-note/assets/js/21.57a11f23.js"><link rel="prefetch" href="/markdown-note/assets/js/22.03d39410.js"><link rel="prefetch" href="/markdown-note/assets/js/23.f0f8c921.js"><link rel="prefetch" href="/markdown-note/assets/js/24.537435dd.js"><link rel="prefetch" href="/markdown-note/assets/js/25.18df36c3.js"><link rel="prefetch" href="/markdown-note/assets/js/26.94fb784f.js"><link rel="prefetch" href="/markdown-note/assets/js/27.ff7e227a.js"><link rel="prefetch" href="/markdown-note/assets/js/28.880bf788.js"><link rel="prefetch" href="/markdown-note/assets/js/29.fe819911.js"><link rel="prefetch" href="/markdown-note/assets/js/3.2b4e5088.js"><link rel="prefetch" href="/markdown-note/assets/js/30.617b866c.js"><link rel="prefetch" href="/markdown-note/assets/js/31.6b692b28.js"><link rel="prefetch" href="/markdown-note/assets/js/32.da8d2239.js"><link rel="prefetch" href="/markdown-note/assets/js/33.6771918f.js"><link rel="prefetch" href="/markdown-note/assets/js/34.af108730.js"><link rel="prefetch" href="/markdown-note/assets/js/35.2acc9aee.js"><link rel="prefetch" href="/markdown-note/assets/js/36.0396717d.js"><link rel="prefetch" href="/markdown-note/assets/js/37.ce048f93.js"><link rel="prefetch" href="/markdown-note/assets/js/38.2b9b2368.js"><link rel="prefetch" href="/markdown-note/assets/js/39.fe09ad3c.js"><link rel="prefetch" href="/markdown-note/assets/js/4.b20bb83b.js"><link rel="prefetch" href="/markdown-note/assets/js/40.f1d7a1ea.js"><link rel="prefetch" href="/markdown-note/assets/js/41.5ddd0a5c.js"><link rel="prefetch" href="/markdown-note/assets/js/42.bebca75e.js"><link rel="prefetch" href="/markdown-note/assets/js/43.a400f188.js"><link rel="prefetch" href="/markdown-note/assets/js/44.f6a81e40.js"><link rel="prefetch" href="/markdown-note/assets/js/45.d3f587cd.js"><link rel="prefetch" href="/markdown-note/assets/js/46.9eba565c.js"><link rel="prefetch" href="/markdown-note/assets/js/47.0ec6dcc4.js"><link rel="prefetch" href="/markdown-note/assets/js/48.b6a57045.js"><link rel="prefetch" href="/markdown-note/assets/js/49.aada9f7d.js"><link rel="prefetch" href="/markdown-note/assets/js/5.ecff997d.js"><link rel="prefetch" href="/markdown-note/assets/js/50.a00306d8.js"><link rel="prefetch" href="/markdown-note/assets/js/51.913b147d.js"><link rel="prefetch" href="/markdown-note/assets/js/52.5bf18659.js"><link rel="prefetch" href="/markdown-note/assets/js/53.d13d2d5e.js"><link rel="prefetch" href="/markdown-note/assets/js/54.ccbd1361.js"><link rel="prefetch" href="/markdown-note/assets/js/55.9c0605ed.js"><link rel="prefetch" href="/markdown-note/assets/js/56.60b2ec97.js"><link rel="prefetch" href="/markdown-note/assets/js/57.9079f526.js"><link rel="prefetch" href="/markdown-note/assets/js/58.05e49f07.js"><link rel="prefetch" href="/markdown-note/assets/js/59.d67ff772.js"><link rel="prefetch" href="/markdown-note/assets/js/6.b1cd3e37.js"><link rel="prefetch" href="/markdown-note/assets/js/60.bc125d4b.js"><link rel="prefetch" href="/markdown-note/assets/js/61.bd66fbd8.js"><link rel="prefetch" href="/markdown-note/assets/js/62.8d572a3f.js"><link rel="prefetch" href="/markdown-note/assets/js/63.3e4901bd.js"><link rel="prefetch" href="/markdown-note/assets/js/64.2c4a1939.js"><link rel="prefetch" href="/markdown-note/assets/js/65.851998f4.js"><link rel="prefetch" href="/markdown-note/assets/js/66.5a5b57c3.js"><link rel="prefetch" href="/markdown-note/assets/js/67.edb6708e.js"><link rel="prefetch" href="/markdown-note/assets/js/68.ac17d7bd.js"><link rel="prefetch" href="/markdown-note/assets/js/69.a252ce8d.js"><link rel="prefetch" href="/markdown-note/assets/js/7.f3f49ad4.js"><link rel="prefetch" href="/markdown-note/assets/js/70.5f91924f.js"><link rel="prefetch" href="/markdown-note/assets/js/71.0d76d528.js"><link rel="prefetch" href="/markdown-note/assets/js/72.f74de48d.js"><link rel="prefetch" href="/markdown-note/assets/js/73.5cd271e6.js"><link rel="prefetch" href="/markdown-note/assets/js/74.f06cb058.js"><link rel="prefetch" href="/markdown-note/assets/js/75.ad72f980.js"><link rel="prefetch" href="/markdown-note/assets/js/76.73b2046c.js"><link rel="prefetch" href="/markdown-note/assets/js/77.0277ee94.js"><link rel="prefetch" href="/markdown-note/assets/js/78.617858d7.js"><link rel="prefetch" href="/markdown-note/assets/js/79.e76450e0.js"><link rel="prefetch" href="/markdown-note/assets/js/80.b26d2698.js"><link rel="prefetch" href="/markdown-note/assets/js/81.eea10a36.js"><link rel="prefetch" href="/markdown-note/assets/js/82.ee8110b7.js"><link rel="prefetch" href="/markdown-note/assets/js/83.3188d281.js"><link rel="prefetch" href="/markdown-note/assets/js/9.f19db848.js">
    <link rel="stylesheet" href="/markdown-note/assets/css/0.styles.9d4be43c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/markdown-note/" class="home-link router-link-active"><!----> <span class="site-name">nanarino note</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/markdown-note/js/" class="nav-link">
  JavaScript
</a></div><div class="nav-item"><a href="/markdown-note/py/" class="nav-link router-link-active">
  Python
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="about" class="dropdown-title"><span class="title">about</span> <span class="arrow down"></span></button> <button type="button" aria-label="about" class="mobile-dropdown-title"><span class="title">about</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/nanarino" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://twitter.com/kogawananari" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Twitter
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/markdown-note/js/" class="nav-link">
  JavaScript
</a></div><div class="nav-item"><a href="/markdown-note/py/" class="nav-link router-link-active">
  Python
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="about" class="dropdown-title"><span class="title">about</span> <span class="arrow down"></span></button> <button type="button" aria-label="about" class="mobile-dropdown-title"><span class="title">about</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/nanarino" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://twitter.com/kogawananari" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Twitter
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>起步</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>数据类型</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>函数</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>面向对象</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/markdown-note/py/16-类和对象.html" class="sidebar-link">类和对象</a></li><li><a href="/markdown-note/py/17-封装和继承.html" class="active sidebar-link">封装和继承</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/markdown-note/py/17-封装和继承.html#继承" class="sidebar-link">继承</a></li><li class="sidebar-sub-header"><a href="/markdown-note/py/17-封装和继承.html#封装" class="sidebar-link">封装</a></li><li class="sidebar-sub-header"><a href="/markdown-note/py/17-封装和继承.html#类中使用的装饰器" class="sidebar-link">类中使用的装饰器</a></li><li class="sidebar-sub-header"><a href="/markdown-note/py/17-封装和继承.html#与类有关的内置方法" class="sidebar-link">与类有关的内置方法</a></li><li class="sidebar-sub-header"><a href="/markdown-note/py/17-封装和继承.html#反射" class="sidebar-link">反射</a></li></ul></li><li><a href="/markdown-note/py/18-魔术方法.html" class="sidebar-link">魔术方法</a></li><li><a href="/markdown-note/py/19-多态和泛型.html" class="sidebar-link">多态和泛型</a></li><li><a href="/markdown-note/py/20-模块和包.html" class="sidebar-link">模块和包</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>常用模块</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>并发编程</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>WEB相关</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>杂项模块</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="封装和继承"><a href="#封装和继承" class="header-anchor">#</a> 封装和继承</h1> <h2 id="继承"><a href="#继承" class="header-anchor">#</a> 继承</h2> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">ParentClass1</span><span class="token punctuation">:</span> <span class="token comment">#定义父类</span>
    <span class="token keyword">pass</span>

<span class="token keyword">class</span> <span class="token class-name">ParentClass2</span><span class="token punctuation">:</span> <span class="token comment">#定义父类</span>
    <span class="token keyword">pass</span>

<span class="token keyword">class</span> <span class="token class-name">SubClass1</span><span class="token punctuation">(</span>ParentClass1<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token comment">#单继承，基类是ParentClass1，派生类是SubClass</span>
    <span class="token keyword">pass</span>

<span class="token keyword">class</span> <span class="token class-name">SubClass2</span><span class="token punctuation">(</span>ParentClass1<span class="token punctuation">,</span>ParentClass2<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token comment">#多继承，用逗号分隔开多个继承的类</span>
    <span class="token keyword">pass</span>
</code></pre></div><h3 id="查看继承"><a href="#查看继承" class="header-anchor">#</a> 查看继承</h3> <p><code>__base__</code>只查看从左到右继承的第一个子类，<code>__bases__</code>则是查看所有继承的父类</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> SubClass1<span class="token punctuation">.</span>__bases__ 
<span class="token punctuation">(</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token string">'__main__.ParentClass1'</span><span class="token operator">&gt;</span><span class="token punctuation">,</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> SubClass2<span class="token punctuation">.</span>__bases__
<span class="token punctuation">(</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token string">'__main__.ParentClass1'</span><span class="token operator">&gt;</span><span class="token punctuation">,</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token string">'__main__.ParentClass2'</span><span class="token operator">&gt;</span><span class="token punctuation">)</span>
</code></pre></div><p>如果没有指定基类，python的类会默认继承object类，object是所有python类的基类，它提供了一些常见方法</p> <h3 id="super类"><a href="#super类" class="header-anchor">#</a> super类</h3> <p>在类内部实例化<code>super()</code>会顺着继承链返回后一个类的实例。<br>
由于多继承的关系，后一个类不一定是父类。<br>
在python2中类内部使用<code>super()</code>时，参数不可以不写<br>
不省略参数的写法是：<code>super(cls, self)</code></p> <h3 id="派生"><a href="#派生" class="header-anchor">#</a> 派生</h3> <p>子类也可以添加自己新的属性或者在自己这里重新定义这些属性（不会影响父类的属性）</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token comment">#继承list的mylist</span>
<span class="token keyword">class</span> <span class="token class-name">my_list</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span><span class="token operator">*</span>args<span class="token punctuation">,</span><span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">'''调用super().__init__()之前，列表会是空的[]'''</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token comment"># []</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token operator">*</span>args<span class="token punctuation">,</span><span class="token operator">**</span>kwargs<span class="token punctuation">)</span>
    <span class="token keyword">def</span> <span class="token function">pop</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'mypop'</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span>

l <span class="token operator">=</span> my_list<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment"># []</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>l<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># 'mypop' 3</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span> <span class="token comment"># [1, 2]</span>


<span class="token comment">#继承str的mystr</span>
<span class="token keyword">class</span> <span class="token class-name">my_str</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__new__</span><span class="token punctuation">(</span>cls<span class="token punctuation">,</span><span class="token operator">*</span>args<span class="token punctuation">,</span><span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;此时是空字符串&lt;my_str ''&gt;&quot;&quot;&quot;</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>self <span class="token punctuation">:</span><span class="token operator">=</span> <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__new__<span class="token punctuation">(</span>cls<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> self
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span><span class="token operator">*</span>args<span class="token punctuation">,</span><span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">'''不需要调用super().__init__()就已经构造出字符串了'''</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span>
    <span class="token keyword">def</span> <span class="token function">__str__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">'''这是重写的父类的魔术方法，它会被print调用'''</span>
        <span class="token keyword">return</span> <span class="token string-interpolation"><span class="token string">f'&lt;my_str </span><span class="token interpolation"><span class="token punctuation">{</span>self<span class="token conversion-option punctuation">!r</span><span class="token punctuation">}</span></span><span class="token string">&gt;'</span></span>

s <span class="token operator">=</span> my_str<span class="token punctuation">(</span><span class="token string">b'\xe4\xbd\xa0\xe5\xa5\xbd'</span><span class="token punctuation">,</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span> <span class="token comment">#&lt;my_str ''&gt; &lt;my_str '你好'&gt;</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token comment"># &lt;my_str '你好'&gt;</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">派生基本类</p> <p>派生基本类时情况会比较特殊</p> <p>比如上述的<code>str.__init__()</code>方法，并不需要</p></div> <h3 id="抽象类与接口类"><a href="#抽象类与接口类" class="header-anchor">#</a> 抽象类与接口类</h3> <blockquote><p>继承有两种用途：<br>
一：继承基类的方法，并且做出自己的改变或者扩展（代码重用）<br>
二：声明某个子类兼容于某基类，定义一个接口类Interface，接口类中定义了一些接口名（就是函数名）且并未实现接口的功能，子类继承接口类，并且实现接口中的功能</p></blockquote> <p>每个类需要实现一个pay方法，但是由于缺少沟通，最后一个类的pay方法写成了fuqian方法（大雾</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Alipay</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">'''
    支付宝支付
    '''</span>
    <span class="token keyword">def</span> <span class="token function">pay</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>money<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'支付宝支付了%s元'</span><span class="token operator">%</span>money<span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">Applepay</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">'''
    apple pay支付
    '''</span>
    <span class="token keyword">def</span> <span class="token function">pay</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>money<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'apple pay支付了%s元'</span><span class="token operator">%</span>money<span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">Wechatpay</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">fuqian</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>money<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">'''
        实现了pay的功能，但是名字不一样
        '''</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'微信支付了%s元'</span><span class="token operator">%</span>money<span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">pay</span><span class="token punctuation">(</span>payment<span class="token punctuation">,</span>money<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">'''
    支付函数，总体负责支付
    对应支付的对象和要支付的金额
    '''</span>
    payment<span class="token punctuation">.</span>pay<span class="token punctuation">(</span>money<span class="token punctuation">)</span>


p <span class="token operator">=</span> Wechatpay<span class="token punctuation">(</span><span class="token punctuation">)</span>
pay<span class="token punctuation">(</span>p<span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">)</span>   <span class="token comment">#执行会报错</span>
</code></pre></div><p>写一个含有需要实现的方法的基类，手动报异常：<code>NotImplementedError</code>来解决开发中遇到的问题</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Payment</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">pay</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">raise</span> NotImplementedError

<span class="token keyword">class</span> <span class="token class-name">Wechatpay</span><span class="token punctuation">(</span>Payment<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">fuqian</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>money<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'微信支付了%s元'</span><span class="token operator">%</span>money<span class="token punctuation">)</span>


p <span class="token operator">=</span> Wechatpay<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">#这里不报错</span>
pay<span class="token punctuation">(</span>p<span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">)</span>      <span class="token comment">#这里报错了</span>
</code></pre></div><p>借用abc模块来实现：存在抽象方法时（即需要实现而未实现的方法），实例化的时候就会报错。</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">from</span> abc <span class="token keyword">import</span> ABCMeta<span class="token punctuation">,</span>abstractmethod

<span class="token keyword">class</span> <span class="token class-name">Payment</span><span class="token punctuation">(</span>metaclass<span class="token operator">=</span>ABCMeta<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token decorator annotation punctuation">@abstractmethod</span>
    <span class="token keyword">def</span> <span class="token function">pay</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>money<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">pass</span>


<span class="token keyword">class</span> <span class="token class-name">Wechatpay</span><span class="token punctuation">(</span>Payment<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">fuqian</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>money<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'微信支付了%s元'</span><span class="token operator">%</span>money<span class="token punctuation">)</span>

p <span class="token operator">=</span> Wechatpay<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 直接报错</span>
</code></pre></div><h4 id="依赖倒置原则"><a href="#依赖倒置原则" class="header-anchor">#</a> <strong>依赖倒置原则</strong></h4> <blockquote><p>高层模块不应该依赖低层模块，二者都应该依赖其抽象；<br>
抽象不应该应该依赖细节；细节应该依赖抽象。<br>
换言之，要针对接口编程，而不是针对实现编程</p></blockquote> <p>接口继承实质上是要求“做出一个良好的抽象，这个抽象规定了一个兼容接口，使得外部调用者无需关心具体细节，可一视同仁的处理实现了特定接口的所有对象”——这在程序设计上，叫做归一化。</p> <h4 id="钻石继承问题"><a href="#钻石继承问题" class="header-anchor">#</a> 钻石继承问题</h4> <p><img src="/markdown-note/assets/img/oop1.ad806d8c.jpg" alt="img"></p> <p>它决定了属性查找的顺序即<code>super()</code>的指向</p> <ul><li>新式类：广度优先</li> <li>经典类：深度优先</li></ul> <p>python3都是新式类。</p> <h4 id="接口隔离原则"><a href="#接口隔离原则" class="header-anchor">#</a> 接口隔离原则</h4> <blockquote><p>使用多个专门的接口，而不使用单一的总接口。<br>
即客户端不应该依赖那些不需要的接口。<br>
在继承抽象类的过程中，我们应该尽量避免多继承；<br>
而在继承接口的时候，我们反而鼓励你来多继承接口</p></blockquote> <p>另一种派生方法的方式：<strong>Mixin方式</strong></p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
	<span class="token keyword">pass</span>
<span class="token keyword">class</span> <span class="token class-name">foo_Mixin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
	<span class="token keyword">def</span> <span class="token function">foo</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
		<span class="token keyword">pass</span>
</code></pre></div><p>定义一个Mixin类里面写好需要派生的方法<br>
需要派生这个方法的类，只需要多继承一个Mixin类</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">B</span><span class="token punctuation">(</span>foo_Mixin<span class="token punctuation">,</span> A<span class="token punctuation">)</span><span class="token punctuation">:</span>
	<span class="token keyword">pass</span>
B<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>foo<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>由于继承链的广度优先<code>foo_Mixin</code>里使用<code>super()</code>会往<code>A</code>指</p> <h2 id="封装"><a href="#封装" class="header-anchor">#</a> 封装</h2> <p>隐藏对象的属性和实现细节，仅对外提供公共访问方式。<br>
在python中用双下划线开头的方式将属性隐藏起来（设置成私有的）</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token comment">#其实这仅仅这是一种变形操作</span>
<span class="token comment">#类中所有双下划线开头的名称如__x都会自动变形成：_类名__x的形式：</span>

<span class="token keyword">class</span> <span class="token class-name">A</span><span class="token punctuation">:</span>
    __N<span class="token operator">=</span><span class="token number">0</span> <span class="token comment">#类的数据属性就应该是共享的,但是语法上是可以把类的数据属性设置成私有的如__N,会变形为_A__N</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>__X<span class="token operator">=</span><span class="token number">10</span> <span class="token comment">#变形为self._A__X</span>
    <span class="token keyword">def</span> <span class="token function">__foo</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token comment">#变形为_A__foo</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'from A'</span><span class="token punctuation">)</span>
    <span class="token keyword">def</span> <span class="token function">bar</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>__foo<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">#只有在类内部才可以通过__foo的形式访问到.</span>

<span class="token comment">#A._A__N是可以访问到的，即这种操作并不是严格意义上的限制外部访问，仅仅只是一种语法意义上的变形</span>
</code></pre></div><p>在继承中，父类如果不想让子类覆盖自己的方法，可以将方法定义为私有的</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token comment">#把fa定义成私有的，即__fa</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">class</span> <span class="token class-name">A</span><span class="token punctuation">:</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     <span class="token keyword">def</span> <span class="token function">__fa</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token comment">#在定义时就变形为_A__fa</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>         <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'from A'</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     <span class="token keyword">def</span> <span class="token function">test</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>         self<span class="token punctuation">.</span>__fa<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">#只会与自己所在的类为准,即调用_A__fa</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> 
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">class</span> <span class="token class-name">B</span><span class="token punctuation">(</span>A<span class="token punctuation">)</span><span class="token punctuation">:</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     <span class="token keyword">def</span> <span class="token function">__fa</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>         <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'from B'</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> 
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> b<span class="token operator">=</span>B<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> b<span class="token punctuation">.</span>test<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">from</span> A
</code></pre></div><h2 id="类中使用的装饰器"><a href="#类中使用的装饰器" class="header-anchor">#</a> 类中使用的装饰器</h2> <h3 id="property"><a href="#property" class="header-anchor">#</a> property</h3> <div class="language- extra-class"><pre class="language-text"><code>例一：BMI指数（bmi是计算而来的，但很明显它听起来像是一个属性而非方法，如果我们将其做成一个属性，更便于理解）

成人的BMI数值：
过轻：低于18.5
正常：18.5-23.9
过重：24-27
肥胖：28-32
非常肥胖, 高于32
　　体质指数（BMI）=体重（kg）÷身高^2（m）
　　EX：70kg÷（1.75×1.75）=22.86
</code></pre></div><div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">People</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>name<span class="token punctuation">,</span>weight<span class="token punctuation">,</span>height<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>name<span class="token operator">=</span>name
        self<span class="token punctuation">.</span>weight<span class="token operator">=</span>weight
        self<span class="token punctuation">.</span>height<span class="token operator">=</span>height
    <span class="token decorator annotation punctuation">@property</span>
    <span class="token keyword">def</span> <span class="token function">bmi</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>weight <span class="token operator">/</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>height<span class="token operator">**</span><span class="token number">2</span><span class="token punctuation">)</span>

p1<span class="token operator">=</span>People<span class="token punctuation">(</span><span class="token string">'egon'</span><span class="token punctuation">,</span><span class="token number">75</span><span class="token punctuation">,</span><span class="token number">1.85</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>p1<span class="token punctuation">.</span>bmi<span class="token punctuation">)</span>
</code></pre></div><p>属性property，由其他已有属性值动态计算得到。<br>
本质就是实现了get，set，delete三种方法的数据描述符</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Goods</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># 原价</span>
        self<span class="token punctuation">.</span>original_price <span class="token operator">=</span> <span class="token number">100</span>
        <span class="token comment"># 折扣</span>
        self<span class="token punctuation">.</span>discount <span class="token operator">=</span> <span class="token number">0.8</span>

    <span class="token decorator annotation punctuation">@property</span>
    <span class="token keyword">def</span> <span class="token function">price</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># 实际价格 = 原价 * 折扣</span>
        new_price <span class="token operator">=</span> self<span class="token punctuation">.</span>original_price <span class="token operator">*</span> self<span class="token punctuation">.</span>discount
        <span class="token keyword">return</span> new_price

    <span class="token decorator annotation punctuation">@price<span class="token punctuation">.</span>setter</span>
    <span class="token keyword">def</span> <span class="token function">price</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>original_price <span class="token operator">=</span> value

    <span class="token decorator annotation punctuation">@price<span class="token punctuation">.</span>deleter</span>
    <span class="token keyword">def</span> <span class="token function">price</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">del</span> self<span class="token punctuation">.</span>original_price


obj <span class="token operator">=</span> Goods<span class="token punctuation">(</span><span class="token punctuation">)</span>
obj<span class="token punctuation">.</span>price         <span class="token comment"># 获取商品价格</span>
obj<span class="token punctuation">.</span>price <span class="token operator">=</span> <span class="token number">200</span>   <span class="token comment"># 修改商品原价</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>price<span class="token punctuation">)</span>
<span class="token keyword">del</span> obj<span class="token punctuation">.</span>price     <span class="token comment"># 删除商品原价</span>
</code></pre></div><h3 id="classmethod"><a href="#classmethod" class="header-anchor">#</a> classmethod</h3> <p>（狭义上的）类方法，class命名空间里定义的只和类有关，不和实例有关的函数</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Classmethod_Demo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    role <span class="token operator">=</span> <span class="token string">'dog'</span>

    <span class="token decorator annotation punctuation">@classmethod</span>
    <span class="token keyword">def</span> <span class="token function">func</span><span class="token punctuation">(</span>cls<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>cls<span class="token punctuation">.</span>role<span class="token punctuation">)</span>
Classmethod_Demo<span class="token punctuation">.</span>func<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="staticmethod"><a href="#staticmethod" class="header-anchor">#</a> staticmethod</h3> <p>静态方法，class命名空间里定义的普通函数，常用来定义工具函数。</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Staticmethod_Demo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    role <span class="token operator">=</span> <span class="token string">'dog'</span>

    <span class="token decorator annotation punctuation">@staticmethod</span>
    <span class="token keyword">def</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;当普通方法用&quot;</span><span class="token punctuation">)</span>

Staticmethod_Demo<span class="token punctuation">.</span>func<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="与类有关的内置方法"><a href="#与类有关的内置方法" class="header-anchor">#</a> 与类有关的内置方法</h2> <div class="language-python extra-class"><pre class="language-python"><code><span class="token builtin">isinstance</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span>cls<span class="token punctuation">)</span><span class="token comment">#检查是否obj是否是类 cls 的对象</span>
<span class="token builtin">issubclass</span><span class="token punctuation">(</span>sub<span class="token punctuation">,</span> <span class="token builtin">super</span><span class="token punctuation">)</span><span class="token comment">#检查sub类是否是 super 类的派生类</span>
</code></pre></div><h2 id="反射"><a href="#反射" class="header-anchor">#</a> 反射</h2> <p>python面向对象中的反射：通过字符串的形式操作对象相关的属性。python中的一切事物都是对象（都可以使用反射）</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Foo</span><span class="token punctuation">:</span>
    f <span class="token operator">=</span> <span class="token string">'类的静态变量'</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>name<span class="token punctuation">,</span>age<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>name<span class="token operator">=</span>name
        self<span class="token punctuation">.</span>age<span class="token operator">=</span>age

    <span class="token keyword">def</span> <span class="token function">say_hi</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'hi,%s'</span><span class="token operator">%</span>self<span class="token punctuation">.</span>name<span class="token punctuation">)</span>

obj<span class="token operator">=</span>Foo<span class="token punctuation">(</span><span class="token string">'egon'</span><span class="token punctuation">,</span><span class="token number">73</span><span class="token punctuation">)</span>

<span class="token comment">#检测是否含有某属性</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">hasattr</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span><span class="token string">'name'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">hasattr</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span><span class="token string">'say_hi'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">#获取属性</span>
n<span class="token operator">=</span><span class="token builtin">getattr</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span><span class="token string">'name'</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span>
func<span class="token operator">=</span><span class="token builtin">getattr</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span><span class="token string">'say_hi'</span><span class="token punctuation">)</span>
func<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">getattr</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span><span class="token string">'aaaaaaaa'</span><span class="token punctuation">,</span><span class="token string">'不存在啊'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#报错</span>

<span class="token comment">#设置属性</span>
<span class="token builtin">setattr</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span><span class="token string">'sb'</span><span class="token punctuation">,</span><span class="token boolean">True</span><span class="token punctuation">)</span>
<span class="token builtin">setattr</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span><span class="token string">'show_name'</span><span class="token punctuation">,</span><span class="token keyword">lambda</span> self<span class="token punctuation">:</span>self<span class="token punctuation">.</span>name<span class="token operator">+</span><span class="token string">'sb'</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>__dict__<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>show_name<span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">#删除属性</span>
<span class="token builtin">delattr</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span><span class="token string">'age'</span><span class="token punctuation">)</span>
<span class="token builtin">delattr</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span><span class="token string">'show_name'</span><span class="token punctuation">)</span>
<span class="token builtin">delattr</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span><span class="token string">'show_name111'</span><span class="token punctuation">)</span><span class="token comment">#不存在,则报错</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>__dict__<span class="token punctuation">)</span>
</code></pre></div><p>反射当前模块成员</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token comment">#!/usr/bin/env python</span>
<span class="token comment"># -*- coding:utf-8 -*-</span>
<span class="token keyword">import</span> sys

<span class="token keyword">def</span> <span class="token function">s1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span> <span class="token string">'s1'</span>

<span class="token keyword">def</span> <span class="token function">s2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span> <span class="token string">'s2'</span>

this_module <span class="token operator">=</span> sys<span class="token punctuation">.</span>modules<span class="token punctuation">[</span>__name__<span class="token punctuation">]</span>

<span class="token builtin">hasattr</span><span class="token punctuation">(</span>this_module<span class="token punctuation">,</span> <span class="token string">'s1'</span><span class="token punctuation">)</span>
<span class="token builtin">getattr</span><span class="token punctuation">(</span>this_module<span class="token punctuation">,</span> <span class="token string">'s2'</span><span class="token punctuation">)</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/markdown-note/py/16-类和对象.html" class="prev">
        类和对象
      </a></span> <span class="next"><a href="/markdown-note/py/18-魔术方法.html">
        魔术方法
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/markdown-note/assets/js/app.6b4725cf.js" defer></script><script src="/markdown-note/assets/js/8.ae913670.js" defer></script><script src="/markdown-note/assets/js/1.5bc6bece.js" defer></script><script src="/markdown-note/assets/js/10.7e5ef7e5.js" defer></script>
  </body>
</html>
