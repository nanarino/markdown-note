<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>补课:计算机网络 | nanarino note</title>
    <meta name="description" content="a note I took with markdown">
    
    
    <link rel="preload" href="/markdown-note/assets/css/0.styles.447f505d.css" as="style"><link rel="preload" href="/markdown-note/assets/js/app.a5a2e409.js" as="script"><link rel="preload" href="/markdown-note/assets/js/2.11da7a94.js" as="script"><link rel="prefetch" href="/markdown-note/assets/js/10.5297ff5c.js"><link rel="prefetch" href="/markdown-note/assets/js/11.e616fed6.js"><link rel="prefetch" href="/markdown-note/assets/js/12.c7e85455.js"><link rel="prefetch" href="/markdown-note/assets/js/13.e0a9e0eb.js"><link rel="prefetch" href="/markdown-note/assets/js/14.42aac0ab.js"><link rel="prefetch" href="/markdown-note/assets/js/15.67d8ca9c.js"><link rel="prefetch" href="/markdown-note/assets/js/16.f12edd35.js"><link rel="prefetch" href="/markdown-note/assets/js/17.366ac3e4.js"><link rel="prefetch" href="/markdown-note/assets/js/18.9f4f0137.js"><link rel="prefetch" href="/markdown-note/assets/js/19.6d0cdd28.js"><link rel="prefetch" href="/markdown-note/assets/js/20.398390a2.js"><link rel="prefetch" href="/markdown-note/assets/js/21.4903e46e.js"><link rel="prefetch" href="/markdown-note/assets/js/22.0814d3c5.js"><link rel="prefetch" href="/markdown-note/assets/js/23.0186b3c2.js"><link rel="prefetch" href="/markdown-note/assets/js/24.f4574841.js"><link rel="prefetch" href="/markdown-note/assets/js/25.5c607f75.js"><link rel="prefetch" href="/markdown-note/assets/js/26.e1569c79.js"><link rel="prefetch" href="/markdown-note/assets/js/27.fde49d22.js"><link rel="prefetch" href="/markdown-note/assets/js/28.b79e68b9.js"><link rel="prefetch" href="/markdown-note/assets/js/29.16b98140.js"><link rel="prefetch" href="/markdown-note/assets/js/3.249571e8.js"><link rel="prefetch" href="/markdown-note/assets/js/30.80d078ec.js"><link rel="prefetch" href="/markdown-note/assets/js/31.4a60483c.js"><link rel="prefetch" href="/markdown-note/assets/js/32.3e3ada2c.js"><link rel="prefetch" href="/markdown-note/assets/js/33.f6609dbd.js"><link rel="prefetch" href="/markdown-note/assets/js/34.5d3384ff.js"><link rel="prefetch" href="/markdown-note/assets/js/35.c6365275.js"><link rel="prefetch" href="/markdown-note/assets/js/36.180cb4ea.js"><link rel="prefetch" href="/markdown-note/assets/js/37.c92d05bb.js"><link rel="prefetch" href="/markdown-note/assets/js/38.a4031940.js"><link rel="prefetch" href="/markdown-note/assets/js/39.e992116b.js"><link rel="prefetch" href="/markdown-note/assets/js/4.616dbac7.js"><link rel="prefetch" href="/markdown-note/assets/js/40.527cbfac.js"><link rel="prefetch" href="/markdown-note/assets/js/5.8faa297c.js"><link rel="prefetch" href="/markdown-note/assets/js/6.3fa7f94b.js"><link rel="prefetch" href="/markdown-note/assets/js/7.9218be4d.js"><link rel="prefetch" href="/markdown-note/assets/js/8.3269e16e.js"><link rel="prefetch" href="/markdown-note/assets/js/9.b5782f05.js">
    <link rel="stylesheet" href="/markdown-note/assets/css/0.styles.447f505d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/markdown-note/" class="home-link router-link-active"><!----> <span class="site-name">nanarino note</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/markdown-note/js/" class="nav-link">JavaScript</a></div><div class="nav-item"><a href="/markdown-note/py/" class="nav-link router-link-active">Python</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Other</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/nanarino/markdown-note" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://www.akokono.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Mysite
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/markdown-note/js/" class="nav-link">JavaScript</a></div><div class="nav-item"><a href="/markdown-note/py/" class="nav-link router-link-active">Python</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Other</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/nanarino/markdown-note" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://www.akokono.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Mysite
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading"><span>起步</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>数据类型</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>函数</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>常用模块</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>面向对象</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading open"><span>网络编程</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/markdown-note/py/27-网络编程基础.html" class="active sidebar-link">补课:计算机网络</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/markdown-note/py/27-网络编程基础.html#ip地址与ip协议" class="sidebar-link">ip地址与ip协议</a></li><li class="sidebar-sub-header"><a href="/markdown-note/py/27-网络编程基础.html#tcp协议" class="sidebar-link">TCP协议</a></li><li class="sidebar-sub-header"><a href="/markdown-note/py/27-网络编程基础.html#udp协议" class="sidebar-link">UDP协议</a></li><li class="sidebar-sub-header"><a href="/markdown-note/py/27-网络编程基础.html#互联网协议与osi模型" class="sidebar-link">互联网协议与osi模型</a></li></ul></li><li><a href="/markdown-note/py/28-套接字socket.html" class="sidebar-link">套接字（socket）</a></li><li><a href="/markdown-note/py/29-黏包.html" class="sidebar-link">黏包</a></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="补课-计算机网络"><a href="#补课-计算机网络" aria-hidden="true" class="header-anchor">#</a> 补课:计算机网络</h1> <blockquote><p>我在大一和大二从来没有认真过,所以要补一补,</p> <p>你们也一样?那我就放心了</p></blockquote> <h3 id="c-s架构"><a href="#c-s架构" aria-hidden="true" class="header-anchor">#</a> C/S架构</h3> <p>C/S即：Client与Server ，中文意思：客户端与服务器端架构，这种架构也是从用户层面（也可以是物理层面）来划分的。</p> <p>这里的客户端一般泛指客户端应用程序EXE，程序需要先安装后，才能运行在用户的电脑上，对用户的电脑操作系统环境依赖较大。</p> <h3 id="b-s架构"><a href="#b-s架构" aria-hidden="true" class="header-anchor">#</a> B/S架构</h3> <p>B/S即：Browser与Server,中文意思：浏览器端与服务器端架构，这种架构是从用户层面来划分的。</p> <p>Browser浏览器，其实也是一种Client客户端，只是这个客户端不需要大家去安装什么应用程序，只需在浏览器上通过HTTP请求服务器端相关的资源（网页资源），客户端Browser浏览器就能进行增删改查。</p> <h3 id="广播"><a href="#广播" aria-hidden="true" class="header-anchor">#</a> 广播</h3> <p>主机之间“一对所有”的通讯模式，网络对其中每一台主机发出的信号都进行无条件复制并转发，所有主机都可以接收到所有信息（不管你是否需要），由于其不用路径选择，所以其网络成本可以很低廉。有线电视网就是典型的广播型网络，我们的电视机实际上是接受到所有频道的信号，但只将一个频道的信号还原成画面。在数据网络中也允许广播的存在，但其被限制在二层交换机的局域网范围内，禁止广播数据穿过路由器，防止广播数据影响大面积的主机。</p> <h2 id="ip地址与ip协议"><a href="#ip地址与ip协议" aria-hidden="true" class="header-anchor">#</a> ip地址与ip协议</h2> <p>规定网络地址的协议叫ip协议，它定义的地址称之为ip地址，广泛采用的v4版本即ipv4，它规定网络地址由32位2进制表示</p> <p>范围0.0.0.0-255.255.255.255</p> <p>一个ip地址通常写成四段十进制数，例：172.16.10.1</p> <h3 id="mac地址"><a href="#mac地址" aria-hidden="true" class="header-anchor">#</a> mac地址</h3> <p>head中包含的源和目标地址由来：ethernet规定接入internet的设备都必须具备网卡，发送端和接收端的地址便是指网卡的地址，即mac地址。</p> <p>mac地址：每块网卡出厂时都被烧制上一个世界唯一的mac地址，长度为48位2进制，通常由12位16进制数表示（前六位是厂商编号，后六位是流水线号</p> <h3 id="arp协议-——查询ip地址和mac地址的对应关系"><a href="#arp协议-——查询ip地址和mac地址的对应关系" aria-hidden="true" class="header-anchor">#</a> arp协议 ——查询IP地址和MAC地址的对应关系</h3> <p>地址解析协议，即ARP（Address Resolution Protocol），是根据IP地址获取物理地址的一个TCP/IP协议。</p> <p>主机发送信息时将包含目标IP地址的ARP请求广播到网络上的所有主机，并接收返回消息，以此确定目标的物理地址。</p> <p>收到返回消息后将该IP地址和物理地址存入本机ARP缓存中并保留一定时间，下次请求时直接查询ARP缓存以节约资源。</p> <p>地址解析协议是建立在网络中各个主机互相信任的基础上的，网络上的主机可以自主发送ARP应答消息，其他主机收到应答报文时不会检测该报文的真实性就会将其记入本机ARP缓存；由此攻击者就可以向某一主机发送伪ARP应答报文，使其发送的信息无法到达预期的主机或到达错误的主机，这就构成了一个ARP欺骗。ARP命令可用于查询本机ARP缓存中IP地址和MAC地址的对应关系、添加或删除静态对应关系等。相关协议有RARP、代理ARP。NDP用于在IPv6中代替地址解析协议。</p> <p><img src="/markdown-note/assets/img/net1.11c2a498.png" alt="img"></p> <h3 id="路由器"><a href="#路由器" aria-hidden="true" class="header-anchor">#</a> 路由器</h3> <p>路由器（Router），是连接因特网中各局域网、广域网的设备，它会根据信道的情况自动选择和设定路由，以最佳路径，按前后顺序发送信号。 路由器是互联网络的枢纽，&quot;交通警察&quot;。目前路由器已经广泛应用于各行各业，各种不同档次的产品已成为实现各种骨干网内部连接、骨干网间互联和骨干网与互联网互联互通业务的主力军。路由和交换机之间的主要区别就是交换机发生在OSI参考模型第二层（数据链路层），而路由发生在第三层，即网络层。这一区别决定了路由和交换机在移动信息的过程中需使用不同的控制信息，所以说两者实现各自功能的方式是不同的。</p> <p>路由器（Router）又称网关设备（Gateway）是用于连接多个逻辑上分开的网络，所谓逻辑网络是代表一个单独的网络或者一个子网。当数据从一个子网传输到另一个子网时，可通过路由器的路由功能来完成。因此，路由器具有判断网络地址和选择IP路径的功能，它能在多网络互联环境中，建立灵活的连接，可用完全不同的数据分组和介质访问方法连接各种子网，路由器只接受源站或其他路由器的信息，属网络层的一种互联设备。</p> <h3 id="局域网"><a href="#局域网" aria-hidden="true" class="header-anchor">#</a> 局域网</h3> <p>局域网（Local Area Network，LAN）是指在某一区域内由多台计算机互联成的计算机组。一般是方圆几千米以内。局域网可以实现文件管理、应用软件共享、打印机共享、工作组内的日程安排、电子邮件和传真通信服务等功能。局域网是封闭型的，可以由办公室内的两台计算机组成，也可以由一个公司内的上千台计算机组成。</p> <h3 id="子网掩码"><a href="#子网掩码" aria-hidden="true" class="header-anchor">#</a> 子网掩码</h3> <p>所谓”子网掩码”，就是表示子网络特征的一个参数。它在形式上等同于IP地址，也是一个32位二进制数字，它的网络部分全部为1，主机部分全部为0。比如，IP地址172.16.10.1，如果已知网络部分是前24位，主机部分是后8位，那么子网络掩码就是11111111.11111111.11111111.00000000，写成十进制就是255.255.255.0。</p> <p>知道”子网掩码”，我们就能判断，任意两个IP地址是否处在同一个子网络。方法是将两个IP地址与子网掩码分别进行AND运算（两个数位都为1，运算结果为1，否则为0），然后比较结果是否相同，如果是的话，就表明它们在同一个子网络中，否则就不是。</p> <h3 id="端口"><a href="#端口" aria-hidden="true" class="header-anchor">#</a> 端口</h3> <p>我们知道，一台拥有IP地址的主机可以提供许多服务，比如Web服务、FTP服务、SMTP服务等，这些服务完全可以通过1个IP地址来实现。那么，主机是怎样区分不同的网络服务呢？显然不能只靠IP地址，因为IP 地址与网络服务的关系是一对多的关系。实际上是通过“IP地址+端口号”来区分不同的服务的。</p> <h2 id="tcp协议"><a href="#tcp协议" aria-hidden="true" class="header-anchor">#</a> TCP协议</h2> <p>当应用程序希望通过 TCP 与另一个应用程序通信时，它会发送一个通信请求。这个请求必须被送到一个确切的地址。在双方“握手”之后，TCP 将在两个应用程序之间建立一个全双工 (full-duplex) 的通信。</p> <p>这个全双工的通信将占用两个计算机之间的通信线路，直到它被一方或双方关闭为止。</p> <p><img src="/markdown-note/assets/img/net2.a45faf75.png" alt="img"></p> <p>三次握手</p> <div class="language- extra-class"><pre class="language-text"><code>TCP是因特网中的传输层协议，使用三次握手协议建立连接。当主动方发出SYN连接请求后，等待对方回答SYN+ACK[1]，并最终对对方的 SYN 执行 ACK 确认。这种建立连接的方法可以防止产生错误的连接。[1] 
TCP三次握手的过程如下：
客户端发送SYN（SEQ=x）报文给服务器端，进入SYN_SEND状态。
服务器端收到SYN报文，回应一个SYN （SEQ=y）ACK(ACK=x+1）报文，进入SYN_RECV状态。
客户端收到服务器端的SYN报文，回应一个ACK(ACK=y+1）报文，进入Established状态。
三次握手完成，TCP客户端和服务器端成功地建立连接，可以开始传输数据了。
</code></pre></div><p>四次挥手</p> <div class="language- extra-class"><pre class="language-text"><code>建立一个连接需要三次握手，而终止一个连接要经过四次握手，这是由TCP的半关闭（half-close）造成的。
(1) 某个应用进程首先调用close，称该端执行“主动关闭”（active close）。该端的TCP于是发送一个FIN分节，表示数据发送完毕。
(2) 接收到这个FIN的对端执行 “被动关闭”（passive close），这个FIN由TCP确认。
注意：FIN的接收也作为一个文件结束符（end-of-file）传递给接收端应用进程，放在已排队等候该应用进程接收的任何其他数据之后，因为，FIN的接收意味着接收端应用进程在相应连接上再无额外数据可接收。
(3) 一段时间后，接收到这个文件结束符的应用进程将调用close关闭它的套接字。这导致它的TCP也发送一个FIN。
(4) 接收这个最终FIN的原发送端TCP（即执行主动关闭的那一端）确认这个FIN。[1] 
既然每个方向都需要一个FIN和一个ACK，因此通常需要4个分节。
注意：
(1) “通常”是指，某些情况下，步骤1的FIN随数据一起发送，另外，步骤2和步骤3发送的分节都出自执行被动关闭那一端，有可能被合并成一个分节。[2] 
(2) 在步骤2与步骤3之间，从执行被动关闭一端到执行主动关闭一端流动数据是可能的，这称为“半关闭”（half-close）。
(3) 当一个Unix进程无论自愿地（调用exit或从main函数返回）还是非自愿地（收到一个终止本进程的信号）终止时，所有打开的描述符都被关闭，这也导致仍然打开的任何TCP连接上也发出一个FIN。
无论是客户还是服务器，任何一端都可以执行主动关闭。通常情况是，客户执行主动关闭，但是某些协议，例如，HTTP/1.0却由服务器执行主动关闭。[2] 
</code></pre></div><h2 id="udp协议"><a href="#udp协议" aria-hidden="true" class="header-anchor">#</a> UDP协议</h2> <p>当应用程序希望通过UDP与一个应用程序通信时，传输数据之前源端和终端不建立连接。</p> <p>当它想传送时就简单地去抓取来自应用程序的数据，并尽可能快地把它扔到网络上。</p> <h3 id="tcp和udp的对比"><a href="#tcp和udp的对比" aria-hidden="true" class="header-anchor">#</a> tcp和udp的对比</h3> <p>TCP---传输控制协议,提供的是面向连接、可靠的字节流服务。当客户和服务器彼此交换数据前，必须先在双方之间建立一个TCP连接，之后才能传输数据。TCP提供超时重发，丢弃重复数据，检验数据，流量控制等功能，保证数据能从一端传到另一端。  UDP---用户数据报协议，是一个简单的面向数据报的运输层协议。UDP不提供可靠性，它只是把应用程序传给IP层的数据报发送出去，但是并不能保证它们能到达目的地。由于UDP在传输数据报前不用在客户和服务器之间建立一个连接，且没有超时重发等机制，故而传输速度很快</p> <div class="language- extra-class"><pre class="language-text"><code>现在Internet上流行的协议是TCP/IP协议，该协议中对低于1024的端口都有确切的定义，他们对应着Internet上一些常见的服务。这些常见的服务可以分为使用TCP端口（面向连接）和使用UDP端口（面向无连接）两种。 
说到TCP和UDP,首先要明白“连接”和“无连接”的含义，他们的关系可以用一个形象地比喻来说明，就是打电话和写信。两个人如果要通话，首先要建立连接——即打电话时的拨号，等待响应后——即接听电话后，才能相互传递信息，最后还要断开连接——即挂电话。写信就比较简单了，填写好收信人的地址后将信投入邮筒，收信人就可以收到了。从这个分析可以看出，建立连接可以在需要痛心地双方建立一个传递信息的通道，在发送方发送请求连接信息接收方响应后，由于是在接受方响应后才开始传递信息，而且是在一个通道中传送，因此接受方能比较完整地收到发送方发出的信息，即信息传递的可靠性比较高。但也正因为需要建立连接，使资源开销加大（在建立连接前必须等待接受方响应，传输信息过程中必须确认信息是否传到及断开连接时发出相应的信号等），独占一个通道，在断开连接钱不能建立另一个连接，即两人在通话过程中第三方不能打入电话。而无连接是一开始就发送信息（严格说来，这是没有开始、结束的），只是一次性的传递，是先不需要接受方的响应，因而在一定程度上也无法保证信息传递的可靠性了，就像写信一样，我们只是将信寄出去，却不能保证收信人一定可以收到。 
TCP是面向连接的，有比较高的可靠性， 一些要求比较高的服务一般使用这个协议，如FTP、Telnet、SMTP、HTTP、POP3等。
而UDP是面向无连接的，使用这个协议的常见服务有DNS、SNMP、QQ等。对于QQ必须另外说明一下，QQ2003以前是只使用UDP协议的，其服务器使用8000端口，侦听是否有信息传来，客户端使用4000端口，向外发送信息（这也就不难理解在一般的显IP的QQ版本中显示好友的IP地址信息中端口常为4000或其后续端口的原因了），即QQ程序既接受服务又提供服务，在以后的QQ版本中也支持使用TCP协议了。
</code></pre></div><h2 id="互联网协议与osi模型"><a href="#互联网协议与osi模型" aria-hidden="true" class="header-anchor">#</a> 互联网协议与osi模型</h2> <p>互联网协议按照功能不同分为osi七层或tcp/ip五层或tcp/ip四层</p> <p><img src="/markdown-note/assets/img/net3.957084da.png" alt="img"></p> <h4 id="每层运行常见物理设备"><a href="#每层运行常见物理设备" aria-hidden="true" class="header-anchor">#</a> 每层运行常见物理设备</h4> <p><img src="/markdown-note/assets/img/net4.1cab26d3.jpg" alt="img"></p> <h4 id="每层运行常见的协议"><a href="#每层运行常见的协议" aria-hidden="true" class="header-anchor">#</a> 每层运行常见的协议</h4> <p><img src="/markdown-note/assets/img/net5.c57472c7.png" alt="img"></p> <h3 id="socket层"><a href="#socket层" aria-hidden="true" class="header-anchor">#</a> socket层</h3> <p><img src="/markdown-note/assets/img/net6.22736cd5.png" alt="img"></p> <p>Socket是应用层与TCP/IP协议族通信的中间软件抽象层，它是一组接口。在设计模式中，Socket其实就是一个门面模式，它把复杂的TCP/IP协议族隐藏在Socket接口后面，对用户来说，一组简单的接口就是全部，让Socket去组织数据，以符合指定的协议。</p> <div class="language-txt extra-class"><pre class="language-text"><code>其实站在你的角度上看，socket就是一个模块。我们通过调用模块中已经实现的方法建立两个进程之间的连接和通信。
也有人将socket说成ip+port，因为ip是用来标识互联网中的一台主机的位置，而port是用来标识这台机器上的一个应用程序。
所以我们只要确立了ip和port就能找到一个应用程序，并且使用socket模块来与之通信。
</code></pre></div></div> <div class="page-edit"><!----> <!----></div> <!----> </div> <!----></div></div>
    <script src="/markdown-note/assets/js/app.a5a2e409.js" defer></script><script src="/markdown-note/assets/js/2.11da7a94.js" defer></script>
  </body>
</html>
