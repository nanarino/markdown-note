<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>正则表达式 | nanarino note</title>
    <meta name="description" content="a note I took with markdown">
    
    
    <link rel="preload" href="/markdown-note/assets/css/0.styles.447f505d.css" as="style"><link rel="preload" href="/markdown-note/assets/js/app.a702db34.js" as="script"><link rel="preload" href="/markdown-note/assets/js/15.9ad785ce.js" as="script"><link rel="prefetch" href="/markdown-note/assets/js/10.8545fbf1.js"><link rel="prefetch" href="/markdown-note/assets/js/11.611c9290.js"><link rel="prefetch" href="/markdown-note/assets/js/12.1e1b0bd7.js"><link rel="prefetch" href="/markdown-note/assets/js/13.07cd3915.js"><link rel="prefetch" href="/markdown-note/assets/js/14.d4041efd.js"><link rel="prefetch" href="/markdown-note/assets/js/16.3862d9de.js"><link rel="prefetch" href="/markdown-note/assets/js/17.6dcf9869.js"><link rel="prefetch" href="/markdown-note/assets/js/18.dda7cfc5.js"><link rel="prefetch" href="/markdown-note/assets/js/19.eb1a8c48.js"><link rel="prefetch" href="/markdown-note/assets/js/2.b31710aa.js"><link rel="prefetch" href="/markdown-note/assets/js/20.a49a6849.js"><link rel="prefetch" href="/markdown-note/assets/js/21.cdef5b11.js"><link rel="prefetch" href="/markdown-note/assets/js/22.37d2ee7e.js"><link rel="prefetch" href="/markdown-note/assets/js/23.df9abc21.js"><link rel="prefetch" href="/markdown-note/assets/js/24.e883d23b.js"><link rel="prefetch" href="/markdown-note/assets/js/25.80a679f4.js"><link rel="prefetch" href="/markdown-note/assets/js/26.f446d7f7.js"><link rel="prefetch" href="/markdown-note/assets/js/27.c45f0012.js"><link rel="prefetch" href="/markdown-note/assets/js/28.2fe93777.js"><link rel="prefetch" href="/markdown-note/assets/js/29.fb1e9c0b.js"><link rel="prefetch" href="/markdown-note/assets/js/3.3315b28f.js"><link rel="prefetch" href="/markdown-note/assets/js/30.70c83e7c.js"><link rel="prefetch" href="/markdown-note/assets/js/31.e83988f9.js"><link rel="prefetch" href="/markdown-note/assets/js/32.87c1cf0d.js"><link rel="prefetch" href="/markdown-note/assets/js/33.fb6dc097.js"><link rel="prefetch" href="/markdown-note/assets/js/34.90addafa.js"><link rel="prefetch" href="/markdown-note/assets/js/35.f06c88b4.js"><link rel="prefetch" href="/markdown-note/assets/js/4.891a686e.js"><link rel="prefetch" href="/markdown-note/assets/js/5.597faf00.js"><link rel="prefetch" href="/markdown-note/assets/js/6.3778ba49.js"><link rel="prefetch" href="/markdown-note/assets/js/7.b5478486.js"><link rel="prefetch" href="/markdown-note/assets/js/8.b9a0d678.js"><link rel="prefetch" href="/markdown-note/assets/js/9.215f5681.js">
    <link rel="stylesheet" href="/markdown-note/assets/css/0.styles.447f505d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/markdown-note/" class="home-link router-link-active"><!----> <span class="site-name">nanarino note</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/markdown-note/py/" class="nav-link router-link-active">Python</a></div><div class="nav-item"><a href="/markdown-note/js/" class="nav-link">JavaScript</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Other</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/nanarino/markdown-note" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://www.akokono.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Mysite
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/markdown-note/py/" class="nav-link router-link-active">Python</a></div><div class="nav-item"><a href="/markdown-note/js/" class="nav-link">JavaScript</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Other</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/nanarino/markdown-note" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://www.akokono.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Mysite
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading"><span>起步</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>数据类型</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>函数</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading open"><span>常用模块</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/markdown-note/py/13-正则表达式.html" class="active sidebar-link">正则表达式</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/markdown-note/py/14-collections模块.html" class="sidebar-link">collections模块</a></li><li><a href="/markdown-note/py/15-时间有关模块.html" class="sidebar-link">时间有关模块</a></li><li><a href="/markdown-note/py/16-random模块.html" class="sidebar-link">random模块</a></li><li><a href="/markdown-note/py/17-os模块和sys模块.html" class="sidebar-link">os模块和sys模块</a></li><li><a href="/markdown-note/py/18-序列化有关模块.html" class="sidebar-link">序列化有关模块</a></li><li><a href="/markdown-note/py/19-模块和包.html" class="sidebar-link">模块和包</a></li><li><a href="/markdown-note/py/20-异常抛出和捕获.html" class="sidebar-link">异常的抛出和捕获</a></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>面向对象</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>网络编程</span> <span class="arrow right"></span></p> <!----></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="正则表达式"><a href="#正则表达式" aria-hidden="true" class="header-anchor">#</a> 正则表达式</h1> <p>正则表达式我在别的语言里面学过一遍,所以我直接抄了景女神的博客(博客园:Eva_J)</p> <p>至于捕获不捕获的问题  我在python中没研究 以后学爬虫的时候再看吧</p> <blockquote><p>正则就是用一些具有特殊含义的符号组合到一起（称为正则表达式）来描述字符或者字符串的方法。或者说：正则就是用来描述一类事物的规则。（在Python中）它内嵌在Python中，并通过 re 模块实现。正则表达式模式被编译成一系列的字节码，然后由用 C 编写的匹配引擎执行。</p></blockquote> <h3 id="常用匹配范围"><a href="#常用匹配范围" aria-hidden="true" class="header-anchor">#</a> 常用匹配范围</h3> <table><thead><tr><th><code>正则</code></th> <th><code>待匹配字符</code></th> <th><code>匹配结果</code></th> <th><code>说明</code></th></tr></thead> <tbody><tr><td><code>[0123456789]</code></td> <td><code>8</code></td> <td><code>True</code></td> <td><code>在一个字符组里枚举合法的所有字符，字符组里的任意一个字符和&quot;待匹配字符&quot;相同都视为可以匹配</code></td></tr> <tr><td><code>[0123456789]</code></td> <td><code>a</code></td> <td><code>False</code></td> <td><code>由于字符组中没有&quot;a&quot;字符，所以不能匹配</code></td></tr> <tr><td><code>[0-9]</code></td> <td><code>7</code></td> <td><code>True</code></td> <td><code>也可以用-表示范围,[0-9]就和[0123456789]是一个意思</code></td></tr> <tr><td><code>[a-z]</code></td> <td><code>s</code></td> <td><code>True</code></td> <td><code>同样的如果要匹配所有的小写字母，直接用[a-z]就可以表示</code></td></tr> <tr><td><code>[A-Z]</code></td> <td><code>B</code></td> <td><code>True</code></td> <td><code>[A-Z]就表示所有的大写字母</code></td></tr> <tr><td><code>[0-9a-fA-F]</code></td> <td><code>e</code></td> <td><code>True</code></td> <td><code>可以匹配数字，大小写形式的a～f，用来验证十六进制字符</code></td></tr></tbody></table> <h3 id="元字符"><a href="#元字符" aria-hidden="true" class="header-anchor">#</a> 元字符</h3> <table><thead><tr><th><code>元字符</code></th> <th><code>匹配内容</code></th></tr></thead> <tbody><tr><td>.</td> <td>匹配除换行符以外的任意字符</td></tr> <tr><td>\w</td> <td>匹配字母或数字或下划线</td></tr> <tr><td>\s</td> <td>匹配任意的空白符</td></tr> <tr><td>\d</td> <td>匹配数字</td></tr> <tr><td>\n</td> <td>匹配一个换行符</td></tr> <tr><td>\t</td> <td>匹配一个制表符</td></tr> <tr><td>\b</td> <td>匹配一个单词的结尾</td></tr> <tr><td>^</td> <td>匹配字符串的开始</td></tr> <tr><td>$</td> <td>匹配字符串的结尾</td></tr> <tr><td>\W</td> <td><code>匹配非字母或数字或下划线</code></td></tr> <tr><td>\D</td> <td><code>匹配非数字</code></td></tr> <tr><td>\S</td> <td><code>匹配非空白符</code></td></tr> <tr><td>a|b</td> <td><code>匹配字符a或字符b</code></td></tr> <tr><td>()</td> <td><code>匹配括号内的表达式，也表示一个组</code></td></tr> <tr><td>[...]</td> <td><code>匹配字符组中的字符</code></td></tr> <tr><td>[^...]</td> <td><code>匹配除了字符组中字符的所有字符</code></td></tr></tbody></table> <h3 id="量词"><a href="#量词" aria-hidden="true" class="header-anchor">#</a> 量词</h3> <table><thead><tr><th><code>量词</code></th> <th><code>用法说明</code></th></tr></thead> <tbody><tr><td>*</td> <td>重复零次或更多次</td></tr> <tr><td>+</td> <td>重复一次或更多次</td></tr> <tr><td>?</td> <td>重复零次或一次</td></tr> <tr><td>{n}</td> <td>重复n次</td></tr> <tr><td>{n,}</td> <td>重复n次或更多次</td></tr> <tr><td>{n,m}</td> <td>重复n到m次</td></tr></tbody></table> <h3 id><a href="#" aria-hidden="true" class="header-anchor">#</a> . ^ $</h3> <table><thead><tr><th>正则</th> <th>待匹配字符</th> <th>匹配 结果</th> <th>说明</th></tr></thead> <tbody><tr><td>海.</td> <td>海燕海娇海东</td> <td>海燕海娇海东</td> <td>匹配所有&quot;海.&quot;的字符</td></tr> <tr><td>^海.</td> <td>海燕海娇海东</td> <td>海燕</td> <td>只从开头匹配&quot;海.&quot;</td></tr> <tr><td>海.$</td> <td>海燕海娇海东</td> <td>海东</td> <td>只匹配结尾的&quot;海.$&quot;</td></tr></tbody></table> <h3 id="-2"><a href="#-2" aria-hidden="true" class="header-anchor">#</a> * + ? { }</h3> <table><thead><tr><th>正则</th> <th>待匹配字符</th> <th>匹配 结果</th> <th>说明</th></tr></thead> <tbody><tr><td>李.?</td> <td>李杰和李莲英和李二棍子</td> <td>李杰 李莲 李二</td> <td><code>?表示重复零次或一次，即只匹配&quot;李&quot;后面一个任意字符</code></td></tr> <tr><td>李.*</td> <td>李杰和李莲英和李二棍子</td> <td>李杰和李莲英和李二棍子</td> <td><code>*表示重复零次或多次，即匹配&quot;李&quot;后面0或多个任意字符</code></td></tr> <tr><td>李.+</td> <td>李杰和李莲英和李二棍子</td> <td>李杰和李莲英和李二棍子</td> <td><code>+表示重复一次或多次，即只匹配&quot;李&quot;后面1个或多个任意字符</code></td></tr> <tr><td>李.{1,2}</td> <td>李杰和李莲英和李二棍子</td> <td>李杰和 李莲英 李二棍</td> <td><code>{1,2}匹配1到2次任意字符</code></td></tr></tbody></table> <p>注意：前面的*,+,?等都是贪婪匹配，也就是尽可能匹配，后面加?号使其变成惰性匹配</p> <table><thead><tr><th>正则</th> <th>待匹配字符</th> <th>匹配 结果</th> <th>说明</th></tr></thead> <tbody><tr><td>李.*?</td> <td>李杰和李莲英和李二棍子</td> <td>李 李 李</td> <td>惰性匹配</td></tr></tbody></table> <h3 id="字符集［］［-］"><a href="#字符集［］［-］" aria-hidden="true" class="header-anchor">#</a> 字符集［］［^］</h3> <table><thead><tr><th>正则</th> <th>待匹配字符</th> <th>匹配 结果</th> <th>说明</th></tr></thead> <tbody><tr><td>李[杰莲英二棍子]*</td> <td>李杰和李莲英和李二棍子</td> <td>李杰 李莲英 李二棍子</td> <td><code>表示匹配&quot;李&quot;字后面[杰莲英二棍子]的字符任意次</code></td></tr> <tr><td>李[^和]*</td> <td>李杰和李莲英和李二棍子</td> <td>李杰 李莲英 李二棍子</td> <td><code>表示匹配一个不是&quot;和&quot;的字符任意次</code></td></tr> <tr><td>[\d]</td> <td>456bdha3</td> <td>4 5 6 3</td> <td><code>表示匹配任意一个数字，匹配到4个结果</code></td></tr> <tr><td>[\d]+</td> <td>456bdha3</td> <td>456 3</td> <td><code>表示匹配任意个数字，匹配到2个结果</code></td></tr></tbody></table> <h3 id="分组-与-或-｜［-］"><a href="#分组-与-或-｜［-］" aria-hidden="true" class="header-anchor">#</a> 分组 ()与 或 ｜［^］</h3> <p>身份证号码是一个长度为15或18个字符的字符串，如果是15位则全部🈶️数字组成，首位不能为0；如果是18位，则前17位全部是数字，末位可能是数字或x，下面我们尝试用正则来表示：</p> <table><thead><tr><th>正则</th> <th>待匹配字符</th> <th>匹配 结果</th> <th>说明</th></tr></thead> <tbody><tr><td>^[1-9]\d{13,16}[0-9x]$</td> <td>110101198001017032</td> <td>110101198001017032</td> <td>表示可以匹配一个正确的身份证号</td></tr> <tr><td>^[1-9]\d{13,16}[0-9x]$</td> <td>1101011980010170</td> <td>1101011980010170</td> <td><code>表示也可以匹配这串数字，但这并不是一个正确的身份证号码，它是一个16位的数字</code></td></tr> <tr><td>^[1-9]\d{14}(\d{2}[0-9x])?$</td> <td>1101011980010170</td> <td>False</td> <td><code>现在不会匹配错误的身份证号了()表示分组，将\d{2}[0-9x]分成一组，就可以整体约束他们出现的次数为0-1次</code></td></tr> <tr><td>^([1-9]\d{16}[0-9x]|[1-9]\d{14})$</td> <td>110105199812067023</td> <td>110105199812067023</td> <td><code>表示先匹配[1-9]\d{16}[0-9x]如果没有匹配上就匹配[1-9]\d{14}</code></td></tr></tbody></table> <h3 id="转义符"><a href="#转义符" aria-hidden="true" class="header-anchor">#</a> 转义符 \</h3> <p>在正则表达式中，有很多有特殊意义的是元字符，比如\n和\s等，如果要在正则中匹配正常的&quot;\n&quot;而不是&quot;换行符&quot;就需要对&quot;&quot;进行转义，变成'\'。</p> <p>在python中，无论是正则表达式，还是待匹配的内容，都是以字符串的形式出现的，在字符串中\也有特殊的含义，本身还需要转义。所以如果匹配一次&quot;\n&quot;,字符串中要写成'\n'，那么正则里就要写成&quot;\\n&quot;,这样就太麻烦了。这个时候我们就用到了r'\n'这个概念，此时的正则是r'\n'就可以了。</p> <table><thead><tr><th>正则</th> <th>待匹配字符</th> <th>匹配 结果</th> <th>说明</th></tr></thead> <tbody><tr><td>\n</td> <td>\n</td> <td>False</td> <td><code>因为在正则表达式中\是有特殊意义的字符，所以要匹配\n本身，用表达式\n无法匹配</code></td></tr> <tr><td>\n</td> <td>\n</td> <td>True</td> <td><code>转义\之后变成\\，即可匹配</code></td></tr> <tr><td>&quot;\\n&quot;</td> <td>'\n'</td> <td>True</td> <td><code>如果在python中，字符串中的'\'也需要转义，所以每一个字符串'\'又需要转义一次</code></td></tr> <tr><td>r'\n'</td> <td>r'\n'</td> <td>True</td> <td><code>在字符串之前加r，让整个字符串不转义</code></td></tr></tbody></table> <h3 id="贪婪匹配"><a href="#贪婪匹配" aria-hidden="true" class="header-anchor">#</a> 贪婪匹配</h3> <p>贪婪匹配：在满足匹配时，匹配尽可能长的字符串，默认采用贪婪匹配 (这里写html标签的话会vue报错,意会吧)</p> <table><thead><tr><th>正则</th> <th>待匹配字符</th> <th>匹配 结果</th> <th>说明</th></tr></thead> <tbody><tr><td>&lt;.*&gt;</td> <td>标签内容标签</td> <td>整个标签和内容</td> <td><code>默认为贪婪匹配模式，会匹配尽量长的字符串</code></td></tr> <tr><td>&lt;.*?&gt;</td> <td>标签内容标签</td> <td>头尾两标签</td> <td><code>加上？转为非贪婪匹配模式，会匹配尽量短的字符串</code></td></tr></tbody></table> <h5 id="几个常用的非贪婪匹配pattern"><a href="#几个常用的非贪婪匹配pattern" aria-hidden="true" class="header-anchor">#</a> 几个常用的非贪婪匹配Pattern</h5> <div class="language-txt extra-class"><pre class="language-text"><code>*? 重复任意次，但尽可能少重复
+? 重复1次或更多次，但尽可能少重复
?? 重复0次或1次，但尽可能少重复
{n,m}? 重复n到m次，但尽可能少重复
{n,}? 重复n次以上，但尽可能少重复
</code></pre></div><h5 id="的用法"><a href="#的用法" aria-hidden="true" class="header-anchor">#</a> .*?的用法</h5> <div class="language-python extra-class"><pre class="language-python"><code><span class="token punctuation">.</span> 是任意字符
<span class="token operator">*</span> 是取 <span class="token number">0</span> 至 无限长度
? 是非贪婪模式。
何在一起就是 取尽量少的任意字符，一般不会这么单独写，他大多用在：
<span class="token punctuation">.</span><span class="token operator">*</span>?x

就是取前面任意长度的字符，直到一个x出现
</code></pre></div><h4 id="匹配模式举例"><a href="#匹配模式举例" aria-hidden="true" class="header-anchor">#</a> 匹配模式举例</h4> <div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># 1,之前学过的字符串的常用操作：一对一匹配</span>
<span class="token comment"># s1 = 'fdskahf太白金星'</span>
<span class="token comment"># print(s1.find('太白'))  # 7</span>

<span class="token comment"># 2，正则匹配：</span>

<span class="token comment"># 单个字符匹配</span>
<span class="token keyword">import</span> re
<span class="token comment"># \w 与 \W</span>
<span class="token comment"># print(re.findall('\w', '太白jx 12*() _'))  # ['太', '白', 'j', 'x', '1', '2', '_']</span>
<span class="token comment"># print(re.findall('\W', '太白jx 12*() _'))  # [' ', '*', '(', ')', ' ']</span>


<span class="token comment"># \s 与\S</span>
<span class="token comment"># print(re.findall('\s','太白barry*(_ \t \n'))  # [' ', '\t', ' ', '\n']</span>
<span class="token comment"># print(re.findall('\S','太白barry*(_ \t \n'))  # ['太', '白', 'b', 'a', 'r', 'r', 'y', '*', '(', '_']</span>


<span class="token comment"># \d 与 \D</span>
<span class="token comment"># print(re.findall('\d','1234567890 alex *（_'))  # ['1', '2', '3', '4', '5', '6', '7', '8', '9', '0']</span>
<span class="token comment"># print(re.findall('\D','1234567890 alex *（_'))  # [' ', 'a', 'l', 'e', 'x', ' ', '*', '（', '_']</span>

<span class="token comment"># \A 与 ^</span>
<span class="token comment"># print(re.findall('\Ahel','hello 太白金星 -_- 666'))  # ['hel']</span>
<span class="token comment"># print(re.findall('^hel','hello 太白金星 -_- 666'))  # ['hel']</span>


<span class="token comment"># \Z、\z 与 $  @@</span>
<span class="token comment"># print(re.findall('666\Z','hello 太白金星 *-_-* \n666'))  # ['666']</span>
<span class="token comment"># print(re.findall('666\z','hello 太白金星 *-_-* \n666'))  # []</span>
<span class="token comment"># print(re.findall('666$','hello 太白金星 *-_-* \n666'))  # ['666']</span>

<span class="token comment"># \n 与 \t</span>
<span class="token comment"># print(re.findall('\n','hello \n 太白金星 \t*-_-*\t \n666'))  # ['\n', '\n']</span>
<span class="token comment"># print(re.findall('\t','hello \n 太白金星 \t*-_-*\t \n666'))  # ['\t', '\t']</span>


<span class="token comment"># 重复匹配</span>

<span class="token comment"># . ? * + {m,n} .* .*?</span>

<span class="token comment"># . 匹配任意字符，除了换行符（re.DOTALL 这个参数可以匹配\n）。</span>
<span class="token comment"># print(re.findall('a.b', 'ab aab a*b a2b a牛b a\nb'))  # ['aab', 'a*b', 'a2b', 'a牛b']</span>
<span class="token comment"># print(re.findall('a.b', 'ab aab a*b a2b a牛b a\nb',re.DOTALL))  # ['aab', 'a*b', 'a2b', 'a牛b']</span>


<span class="token comment"># ？匹配0个或者1个由左边字符定义的片段。</span>
<span class="token comment"># print(re.findall('a?b', 'ab aab abb aaaab a牛b aba**b'))  # ['ab', 'ab', 'ab', 'b', 'ab', 'b', 'ab', 'b']</span>


<span class="token comment"># * 匹配0个或者多个左边字符表达式。 满足贪婪匹配 @@</span>
<span class="token comment"># print(re.findall('a*b', 'ab aab aaab abbb'))  # ['ab', 'aab', 'aaab', 'ab', 'b', 'b']</span>
<span class="token comment"># print(re.findall('ab*', 'ab aab aaab abbbbb'))  # ['ab', 'a', 'ab', 'a', 'a', 'ab', 'abbbbb']</span>


<span class="token comment"># + 匹配1个或者多个左边字符表达式。 满足贪婪匹配  @@</span>
<span class="token comment"># print(re.findall('a+b', 'ab aab aaab abbb'))  # ['ab', 'aab', 'aaab', 'ab']</span>


<span class="token comment"># {m,n}  匹配m个至n个左边字符表达式。 满足贪婪匹配  @@</span>
<span class="token comment"># print(re.findall('a{2,4}b', 'ab aab aaab aaaaabb'))  # ['aab', 'aaab']</span>


<span class="token comment"># .* 贪婪匹配 从头到尾.</span>
<span class="token comment"># print(re.findall('a.*b', 'ab aab a*()b'))  # ['ab aab a*()b']</span>


<span class="token comment"># .*? 此时的?不是对左边的字符进行0次或者1次的匹配,</span>
<span class="token comment"># 而只是针对.*这种贪婪匹配的模式进行一种限定:告知他要遵从非贪婪匹配 推荐使用!</span>
<span class="token comment"># print(re.findall('a.*?b', 'ab a1b a*()b, aaaaaab'))  # ['ab', 'a1b', 'a*()b']</span>


<span class="token comment"># []: 括号中可以放任意一个字符,一个中括号代表一个字符</span>
<span class="token comment"># - 在[]中表示范围,如果想要匹配上- 那么这个-符号不能放在中间.</span>
<span class="token comment"># ^ 在[]中表示取反的意思.</span>
<span class="token comment"># print(re.findall('a.b', 'a1b a3b aeb a*b arb a_b'))  # ['a1b', 'a3b', 'a4b', 'a*b', 'arb', 'a_b']</span>
<span class="token comment"># print(re.findall('a[abc]b', 'aab abb acb adb afb a_b'))  # ['aab', 'abb', 'acb']</span>
<span class="token comment"># print(re.findall('a[0-9]b', 'a1b a3b aeb a*b arb a_b'))  # ['a1b', 'a3b']</span>
<span class="token comment"># print(re.findall('a[a-z]b', 'a1b a3b aeb a*b arb a_b'))  # ['aeb', 'arb']</span>
<span class="token comment"># print(re.findall('a[a-zA-Z]b', 'aAb aWb aeb a*b arb a_b'))  # ['aAb', 'aWb', 'aeb', 'arb']</span>
<span class="token comment"># print(re.findall('a[0-9][0-9]b', 'a11b a12b a34b a*b arb a_b'))  # ['a11b', 'a12b', 'a34b']</span>
<span class="token comment"># print(re.findall('a[*-+]b','a-b a*b a+b a/b a6b'))  # ['a*b', 'a+b']</span>
<span class="token comment"># - 在[]中表示范围,如果想要匹配上- 那么这个-符号不能放在中间.</span>
<span class="token comment"># print(re.findall('a[-*+]b','a-b a*b a+b a/b a6b'))  # ['a-b', 'a*b', 'a+b']</span>
<span class="token comment"># print(re.findall('a[^a-z]b', 'acb adb a3b a*b'))  # ['a3b', 'a*b']</span>

<span class="token comment"># 练习:</span>
<span class="token comment"># 找到字符串中'alex_sb ale123_sb wu12sir_sb wusir_sb ritian_sb' 的 alex wusir ritian</span>
<span class="token comment"># print(re.findall('([a-z]+)_sb','alex_sb ale123_sb wusir12_sb wusir_sb ritian_sb'))</span>


<span class="token comment"># 分组:</span>

<span class="token comment"># () 制定一个规则,将满足规则的结果匹配出来</span>
<span class="token comment"># print(re.findall('(.*?)_sb', 'alex_sb wusir_sb 日天_sb'))  # ['alex', ' wusir', ' 日天']</span>

<span class="token comment"># 应用举例:</span>
<span class="token comment"># print(re.findall('href=&quot;(.*?)&quot;','&lt;a href=&quot;http://www.baidu.com&quot;&gt;点击&lt;/a&gt;'))#['http://www.baidu.com']</span>


<span class="token comment"># | 匹配 左边或者右边</span>
<span class="token comment"># print(re.findall('alex|太白|wusir', 'alex太白wusiraleeeex太太白odlb'))  # ['alex', '太白', 'wusir', '太白']</span>
<span class="token comment"># print(re.findall('compan(y|ies)','Too many companies have gone bankrupt, and the next one is my company'))  # ['ies', 'y']</span>
<span class="token comment"># print(re.findall('compan(?:y|ies)','Too many companies have gone bankrupt, and the next one is my company'))  # ['companies', 'company']</span>
<span class="token comment"># 分组() 中加入?: 表示将整体匹配出来而不只是()里面的内容。</span>
</code></pre></div><h4 id="常用方法举例"><a href="#常用方法举例" aria-hidden="true" class="header-anchor">#</a> 常用方法举例</h4> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">import</span> re

ret <span class="token operator">=</span> re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'eva egon yuan'</span><span class="token punctuation">)</span>  <span class="token comment"># 返回所有满足匹配条件的结果,放在列表里</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>ret<span class="token punctuation">)</span> <span class="token comment">#结果 : ['a', 'a']</span>

ret <span class="token operator">=</span> re<span class="token punctuation">.</span>search<span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'eva egon yuan'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>ret<span class="token punctuation">)</span> <span class="token comment">#结果 : 'a'</span>
<span class="token comment"># 函数会在字符串内查找模式匹配,只到找到第一个匹配然后返回一个包含匹配信息的对象,该对象可以</span>
<span class="token comment"># 通过调用group()方法得到匹配的字符串,如果字符串没有匹配，则返回None。</span>

ret <span class="token operator">=</span> re<span class="token punctuation">.</span>match<span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'abc'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 同search,不过尽在字符串开始处进行匹配</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>ret<span class="token punctuation">)</span>
<span class="token comment">#结果 : 'a'</span>

ret <span class="token operator">=</span> re<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">'[ab]'</span><span class="token punctuation">,</span> <span class="token string">'abcd'</span><span class="token punctuation">)</span>  <span class="token comment"># 先按'a'分割得到''和'bcd',在对''和'bcd'分别按'b'分割</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>ret<span class="token punctuation">)</span>  <span class="token comment"># ['', '', 'cd']</span>

ret <span class="token operator">=</span> re<span class="token punctuation">.</span>sub<span class="token punctuation">(</span><span class="token string">'\d'</span><span class="token punctuation">,</span> <span class="token string">'H'</span><span class="token punctuation">,</span> <span class="token string">'eva3egon4yuan4'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token comment">#将数字替换成'H'，参数1表示只替换1个</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>ret<span class="token punctuation">)</span> <span class="token comment">#evaHegon4yuan4</span>

ret <span class="token operator">=</span> re<span class="token punctuation">.</span>subn<span class="token punctuation">(</span><span class="token string">'\d'</span><span class="token punctuation">,</span> <span class="token string">'H'</span><span class="token punctuation">,</span> <span class="token string">'eva3egon4yuan4'</span><span class="token punctuation">)</span><span class="token comment">#将数字替换成'H'，返回元组(替换的结果,替换了多少次)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>ret<span class="token punctuation">)</span>

obj <span class="token operator">=</span> re<span class="token punctuation">.</span><span class="token builtin">compile</span><span class="token punctuation">(</span><span class="token string">'\d{3}'</span><span class="token punctuation">)</span>  <span class="token comment">#将正则表达式编译成为一个 正则表达式对象，规则要匹配的是3个数字</span>
ret <span class="token operator">=</span> obj<span class="token punctuation">.</span>search<span class="token punctuation">(</span><span class="token string">'abc123eeee'</span><span class="token punctuation">)</span> <span class="token comment">#正则表达式对象调用search，参数为待匹配的字符串</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>ret<span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">#结果 ： 123</span>

<span class="token keyword">import</span> re
ret <span class="token operator">=</span> re<span class="token punctuation">.</span>finditer<span class="token punctuation">(</span><span class="token string">'\d'</span><span class="token punctuation">,</span> <span class="token string">'ds3sy4784a'</span><span class="token punctuation">)</span>   <span class="token comment">#finditer返回一个存放匹配结果的迭代器</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>ret<span class="token punctuation">)</span>  <span class="token comment"># &lt;callable_iterator object at 0x10195f940&gt;</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">next</span><span class="token punctuation">(</span>ret<span class="token punctuation">)</span><span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">#查看第一个结果</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">next</span><span class="token punctuation">(</span>ret<span class="token punctuation">)</span><span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">#查看第二个结果</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">[</span>i<span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> ret<span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment">#查看剩余的左右结果</span>
</code></pre></div><h5 id="注意："><a href="#注意：" aria-hidden="true" class="header-anchor">#</a> 注意：</h5> <p>1 findall的优先级查询</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">import</span> re

ret <span class="token operator">=</span> re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span><span class="token string">'www.(baidu|oldboy).com'</span><span class="token punctuation">,</span> <span class="token string">'www.oldboy.com'</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>ret<span class="token punctuation">)</span>  <span class="token comment"># ['oldboy']     这是因为findall会优先把匹配结果组里内容返回,如果想要匹配结果,取消权限即可</span>

ret <span class="token operator">=</span> re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span><span class="token string">'www.(?:baidu|oldboy).com'</span><span class="token punctuation">,</span> <span class="token string">'www.oldboy.com'</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>ret<span class="token punctuation">)</span>  <span class="token comment"># ['www.oldboy.com']</span>
</code></pre></div><p>2 split的优先级查询</p> <div class="language-python extra-class"><pre class="language-python"><code>ret<span class="token operator">=</span>re<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">&quot;\d+&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;eva3egon4yuan&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>ret<span class="token punctuation">)</span> <span class="token comment">#结果 ： ['eva', 'egon', 'yuan']</span>

ret<span class="token operator">=</span>re<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">&quot;(\d+)&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;eva3egon4yuan&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>ret<span class="token punctuation">)</span> <span class="token comment">#结果 ： ['eva', '3', 'egon', '4', 'yuan']</span>

<span class="token comment">#在匹配部分加上（）之后所切出的结果是不同的，</span>
<span class="token comment">#没有（）的没有保留所匹配的项，但是有（）的却能够保留了匹配的项，</span>
<span class="token comment">#这个在某些需要保留匹配部分的使用过程是非常重要的。</span>
</code></pre></div></div> <div class="page-edit"><!----> <!----></div> <!----> </div> <!----></div></div>
    <script src="/markdown-note/assets/js/app.a702db34.js" defer></script><script src="/markdown-note/assets/js/15.9ad785ce.js" defer></script>
  </body>
</html>
