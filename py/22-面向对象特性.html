<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>面向对象特性 | nanarino note</title>
    <meta name="description" content="a note I took with markdown">
    
    
    <link rel="preload" href="/markdown-note/assets/css/0.styles.447f505d.css" as="style"><link rel="preload" href="/markdown-note/assets/js/app.10f2f5d4.js" as="script"><link rel="preload" href="/markdown-note/assets/js/7.9218be4d.js" as="script"><link rel="prefetch" href="/markdown-note/assets/js/10.c36c8c99.js"><link rel="prefetch" href="/markdown-note/assets/js/11.3ca32aa8.js"><link rel="prefetch" href="/markdown-note/assets/js/12.431aa9de.js"><link rel="prefetch" href="/markdown-note/assets/js/13.3a3307fa.js"><link rel="prefetch" href="/markdown-note/assets/js/14.26e3e81e.js"><link rel="prefetch" href="/markdown-note/assets/js/15.23bf0b11.js"><link rel="prefetch" href="/markdown-note/assets/js/16.0a3923a4.js"><link rel="prefetch" href="/markdown-note/assets/js/17.7f4a17ab.js"><link rel="prefetch" href="/markdown-note/assets/js/18.519ebe17.js"><link rel="prefetch" href="/markdown-note/assets/js/19.71fee398.js"><link rel="prefetch" href="/markdown-note/assets/js/2.11da7a94.js"><link rel="prefetch" href="/markdown-note/assets/js/20.594efd53.js"><link rel="prefetch" href="/markdown-note/assets/js/21.4ec3995d.js"><link rel="prefetch" href="/markdown-note/assets/js/22.20ef2aa3.js"><link rel="prefetch" href="/markdown-note/assets/js/23.d211eb36.js"><link rel="prefetch" href="/markdown-note/assets/js/24.a894106c.js"><link rel="prefetch" href="/markdown-note/assets/js/25.054a8bac.js"><link rel="prefetch" href="/markdown-note/assets/js/26.225f818f.js"><link rel="prefetch" href="/markdown-note/assets/js/27.12c563b2.js"><link rel="prefetch" href="/markdown-note/assets/js/28.761b92cd.js"><link rel="prefetch" href="/markdown-note/assets/js/29.4734fd13.js"><link rel="prefetch" href="/markdown-note/assets/js/3.23b2bd9c.js"><link rel="prefetch" href="/markdown-note/assets/js/30.b507109c.js"><link rel="prefetch" href="/markdown-note/assets/js/31.4ee9ca42.js"><link rel="prefetch" href="/markdown-note/assets/js/32.5aba6820.js"><link rel="prefetch" href="/markdown-note/assets/js/33.bd433285.js"><link rel="prefetch" href="/markdown-note/assets/js/34.7d784b83.js"><link rel="prefetch" href="/markdown-note/assets/js/35.c0c148e7.js"><link rel="prefetch" href="/markdown-note/assets/js/36.7a0cb274.js"><link rel="prefetch" href="/markdown-note/assets/js/37.fa24b958.js"><link rel="prefetch" href="/markdown-note/assets/js/38.982f2380.js"><link rel="prefetch" href="/markdown-note/assets/js/39.2556b6d1.js"><link rel="prefetch" href="/markdown-note/assets/js/4.d1d93ed5.js"><link rel="prefetch" href="/markdown-note/assets/js/40.561f060d.js"><link rel="prefetch" href="/markdown-note/assets/js/41.4f00cbad.js"><link rel="prefetch" href="/markdown-note/assets/js/42.99a58740.js"><link rel="prefetch" href="/markdown-note/assets/js/43.7e1c3c1c.js"><link rel="prefetch" href="/markdown-note/assets/js/44.fe60b089.js"><link rel="prefetch" href="/markdown-note/assets/js/45.aef69035.js"><link rel="prefetch" href="/markdown-note/assets/js/46.bb9bb7ed.js"><link rel="prefetch" href="/markdown-note/assets/js/47.6bccc360.js"><link rel="prefetch" href="/markdown-note/assets/js/48.a19e74d7.js"><link rel="prefetch" href="/markdown-note/assets/js/49.d476107f.js"><link rel="prefetch" href="/markdown-note/assets/js/5.8faa297c.js"><link rel="prefetch" href="/markdown-note/assets/js/50.129e4399.js"><link rel="prefetch" href="/markdown-note/assets/js/51.5b9dbf37.js"><link rel="prefetch" href="/markdown-note/assets/js/52.e446cd88.js"><link rel="prefetch" href="/markdown-note/assets/js/53.8f1dc5c5.js"><link rel="prefetch" href="/markdown-note/assets/js/54.bf79f3a6.js"><link rel="prefetch" href="/markdown-note/assets/js/55.080d6c5e.js"><link rel="prefetch" href="/markdown-note/assets/js/56.779c6469.js"><link rel="prefetch" href="/markdown-note/assets/js/57.f9b95ed0.js"><link rel="prefetch" href="/markdown-note/assets/js/58.0f65d9c9.js"><link rel="prefetch" href="/markdown-note/assets/js/59.518e554a.js"><link rel="prefetch" href="/markdown-note/assets/js/6.3fa7f94b.js"><link rel="prefetch" href="/markdown-note/assets/js/60.42e4659c.js"><link rel="prefetch" href="/markdown-note/assets/js/61.f614798e.js"><link rel="prefetch" href="/markdown-note/assets/js/8.3269e16e.js"><link rel="prefetch" href="/markdown-note/assets/js/9.9f38b659.js">
    <link rel="stylesheet" href="/markdown-note/assets/css/0.styles.447f505d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/markdown-note/" class="home-link router-link-active"><!----> <span class="site-name">nanarino note</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/markdown-note/js/" class="nav-link">JavaScript</a></div><div class="nav-item"><a href="/markdown-note/py/" class="nav-link router-link-active">Python</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Other</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/nanarino/markdown-note" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://www.akokono.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Mysite
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/markdown-note/js/" class="nav-link">JavaScript</a></div><div class="nav-item"><a href="/markdown-note/py/" class="nav-link router-link-active">Python</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Other</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/nanarino/markdown-note" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://www.akokono.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Mysite
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading"><span>起步</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>数据类型</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>函数</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>常用模块</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading open"><span>面向对象</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/markdown-note/py/21-类和对象.html" class="sidebar-link">类和对象</a></li><li><a href="/markdown-note/py/22-面向对象特性.html" class="active sidebar-link">面向对象特性</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/markdown-note/py/22-面向对象特性.html#继承" class="sidebar-link">继承</a></li><li class="sidebar-sub-header"><a href="/markdown-note/py/22-面向对象特性.html#多态" class="sidebar-link">多态</a></li><li class="sidebar-sub-header"><a href="/markdown-note/py/22-面向对象特性.html#封装" class="sidebar-link">封装</a></li><li class="sidebar-sub-header"><a href="/markdown-note/py/22-面向对象特性.html#与面向对象有关的内置方法" class="sidebar-link">与面向对象有关的内置方法</a></li></ul></li><li><a href="/markdown-note/py/23-魔术方法.html" class="sidebar-link">魔术方法</a></li><li><a href="/markdown-note/py/24-hashlib模块.html" class="sidebar-link">hashlib模块</a></li><li><a href="/markdown-note/py/25-configparser模块.html" class="sidebar-link">configparser模块</a></li><li><a href="/markdown-note/py/26-logging模块.html" class="sidebar-link">logging模块</a></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>网络编程</span> <span class="arrow right"></span></p> <!----></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="面向对象特性"><a href="#面向对象特性" aria-hidden="true" class="header-anchor">#</a> 面向对象特性</h1> <h2 id="继承"><a href="#继承" aria-hidden="true" class="header-anchor">#</a> 继承</h2> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">ParentClass1</span><span class="token punctuation">:</span> <span class="token comment">#定义父类</span>
    <span class="token keyword">pass</span>

<span class="token keyword">class</span> <span class="token class-name">ParentClass2</span><span class="token punctuation">:</span> <span class="token comment">#定义父类</span>
    <span class="token keyword">pass</span>

<span class="token keyword">class</span> <span class="token class-name">SubClass1</span><span class="token punctuation">(</span>ParentClass1<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token comment">#单继承，基类是ParentClass1，派生类是SubClass</span>
    <span class="token keyword">pass</span>

<span class="token keyword">class</span> <span class="token class-name">SubClass2</span><span class="token punctuation">(</span>ParentClass1<span class="token punctuation">,</span>ParentClass2<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token comment">#python支持多继承，用逗号分隔开多个继承的类</span>
    <span class="token keyword">pass</span>
</code></pre></div><p>查看继承</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> SubClass1<span class="token punctuation">.</span>__bases__ <span class="token comment">#__base__只查看从左到右继承的第一个子类，__bases__则是查看所有继承的父类</span>
<span class="token punctuation">(</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token string">'__main__.ParentClass1'</span><span class="token operator">&gt;</span><span class="token punctuation">,</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> SubClass2<span class="token punctuation">.</span>__bases__
<span class="token punctuation">(</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token string">'__main__.ParentClass1'</span><span class="token operator">&gt;</span><span class="token punctuation">,</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token string">'__main__.ParentClass2'</span><span class="token operator">&gt;</span><span class="token punctuation">)</span>
</code></pre></div><p>如果没有指定基类，python的类会默认继承object类，object是所有python类的基类，它提供了一些常见方法</p> <h5 id="派生"><a href="#派生" aria-hidden="true" class="header-anchor">#</a> 派生</h5> <p>当然子类也可以添加自己新的属性或者在自己这里重新定义这些属性（不会影响到父类），需要注意的是，一旦重新定义了自己的属性且与父类重名，那么调用新增的属性时，就以自己为准了。</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Animal</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">'''
    人和狗都是动物，所以创造一个Animal基类
    '''</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">,</span> aggressivity<span class="token punctuation">,</span> life_value<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name  <span class="token comment"># 人和狗都有自己的昵称;</span>
        self<span class="token punctuation">.</span>aggressivity <span class="token operator">=</span> aggressivity  <span class="token comment"># 人和狗都有自己的攻击力;</span>
        self<span class="token punctuation">.</span>life_value <span class="token operator">=</span> life_value  <span class="token comment"># 人和狗都有自己的生命值;</span>

    <span class="token keyword">def</span> <span class="token function">eat</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'%s is eating'</span><span class="token operator">%</span>self<span class="token punctuation">.</span>name<span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span>Animal<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">'''
    狗类，继承Animal类
    '''</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>name<span class="token punctuation">,</span>breed<span class="token punctuation">,</span>aggressivity<span class="token punctuation">,</span>life_value<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>name<span class="token punctuation">,</span> aggressivity<span class="token punctuation">,</span> life_value<span class="token punctuation">)</span> <span class="token comment">#执行父类Animal的init方法</span>
        self<span class="token punctuation">.</span>breed <span class="token operator">=</span> breed  <span class="token comment">#派生出了新的属性</span>

    <span class="token keyword">def</span> <span class="token function">bite</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> people<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">'''
        派生出了新的技能：狗有咬人的技能
        :param people:  
        '''</span>
        people<span class="token punctuation">.</span>life_value <span class="token operator">-=</span> self<span class="token punctuation">.</span>aggressivity

    <span class="token keyword">def</span> <span class="token function">eat</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># Animal.eat(self)</span>
        <span class="token comment">#super().eat()</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'from Dog'</span><span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">(</span>Animal<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">'''
    人类，继承Animal
    '''</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>name<span class="token punctuation">,</span>aggressivity<span class="token punctuation">,</span> life_value<span class="token punctuation">,</span>money<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment">#Animal.__init__(self, name, aggressivity, life_value)</span>
        <span class="token comment">#super(Person, self).__init__(name, aggressivity, life_value)</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>name<span class="token punctuation">,</span>aggressivity<span class="token punctuation">,</span> life_value<span class="token punctuation">)</span>  <span class="token comment">#执行父类的init方法</span>
        self<span class="token punctuation">.</span>money <span class="token operator">=</span> money   <span class="token comment">#派生出了新的属性</span>

    <span class="token keyword">def</span> <span class="token function">attack</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> dog<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">'''
        派生出了新的技能：人有攻击的技能
        :param dog: 
        '''</span>
        dog<span class="token punctuation">.</span>life_value <span class="token operator">-=</span> self<span class="token punctuation">.</span>aggressivity

    <span class="token keyword">def</span> <span class="token function">eat</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment">#super().eat()</span>
        Animal<span class="token punctuation">.</span>eat<span class="token punctuation">(</span>self<span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'from Person'</span><span class="token punctuation">)</span>

egg <span class="token operator">=</span> Person<span class="token punctuation">(</span><span class="token string">'egon'</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">,</span><span class="token number">600</span><span class="token punctuation">)</span>
ha2 <span class="token operator">=</span> Dog<span class="token punctuation">(</span><span class="token string">'二愣子'</span><span class="token punctuation">,</span><span class="token string">'哈士奇'</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>egg<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>ha2<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
egg<span class="token punctuation">.</span>eat<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="抽象类与接口类"><a href="#抽象类与接口类" aria-hidden="true" class="header-anchor">#</a> 抽象类与接口类</h3> <blockquote><p>继承有两种用途：</p> <p>一：继承基类的方法，并且做出自己的改变或者扩展（代码重用）</p> <p>二：声明某个子类兼容于某基类，定义一个接口类Interface，接口类中定义了一些接口名（就是函数名）且并未实现接口的功能，子类继承接口类，并且实现接口中的功能</p></blockquote> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Alipay</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">'''
    支付宝支付
    '''</span>
    <span class="token keyword">def</span> <span class="token function">pay</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>money<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'支付宝支付了%s元'</span><span class="token operator">%</span>money<span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">Applepay</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">'''
    apple pay支付
    '''</span>
    <span class="token keyword">def</span> <span class="token function">pay</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>money<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'apple pay支付了%s元'</span><span class="token operator">%</span>money<span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">Wechatpay</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">fuqian</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>money<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">'''
        实现了pay的功能，但是名字不一样
        '''</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'微信支付了%s元'</span><span class="token operator">%</span>money<span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">pay</span><span class="token punctuation">(</span>payment<span class="token punctuation">,</span>money<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">'''
    支付函数，总体负责支付
    对应支付的对象和要支付的金额
    '''</span>
    payment<span class="token punctuation">.</span>pay<span class="token punctuation">(</span>money<span class="token punctuation">)</span>


p <span class="token operator">=</span> Wechatpay<span class="token punctuation">(</span><span class="token punctuation">)</span>
pay<span class="token punctuation">(</span>p<span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">)</span>   <span class="token comment">#执行会报错</span>
</code></pre></div><p>接口初成：手动报异常：NotImplementedError来解决开发中遇到的问题</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Payment</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">pay</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">raise</span> NotImplementedError

<span class="token keyword">class</span> <span class="token class-name">Wechatpay</span><span class="token punctuation">(</span>Payment<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">fuqian</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>money<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'微信支付了%s元'</span><span class="token operator">%</span>money<span class="token punctuation">)</span>


p <span class="token operator">=</span> Wechatpay<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">#这里不报错</span>
pay<span class="token punctuation">(</span>p<span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">)</span>      <span class="token comment">#这里报错了</span>
</code></pre></div><p>借用abc模块来实现接口</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">from</span> abc <span class="token keyword">import</span> ABCMeta<span class="token punctuation">,</span>abstractmethod

<span class="token keyword">class</span> <span class="token class-name">Payment</span><span class="token punctuation">(</span>metaclass<span class="token operator">=</span>ABCMeta<span class="token punctuation">)</span><span class="token punctuation">:</span>
    @abstractmethod
    <span class="token keyword">def</span> <span class="token function">pay</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>money<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">pass</span>


<span class="token keyword">class</span> <span class="token class-name">Wechatpay</span><span class="token punctuation">(</span>Payment<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">fuqian</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>money<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'微信支付了%s元'</span><span class="token operator">%</span>money<span class="token punctuation">)</span>

p <span class="token operator">=</span> Wechatpay<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">#不调就报错了</span>
</code></pre></div><blockquote><div class="language- extra-class"><pre class="language-text"><code>依赖倒置原则：
高层模块不应该依赖低层模块，二者都应该依赖其抽象；抽象不应该应该依赖细节；细节应该依赖抽象。换言之，要针对接口编程，而不是针对实现编程
</code></pre></div></blockquote> <p>实践中，继承的第一种含义意义并不很大，甚至常常是有害的。因为它使得子类与基类出现强耦合。</p> <p>继承的第二种含义非常重要。它又叫“接口继承”。</p> <p>接口继承实质上是要求“做出一个良好的抽象，这个抽象规定了一个兼容接口，使得外部调用者无需关心具体细节，可一视同仁的处理实现了特定接口的所有对象”——这在程序设计上，叫做归一化。</p> <h5 id="抽象类"><a href="#抽象类" aria-hidden="true" class="header-anchor">#</a> 抽象类</h5> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">import</span> abc <span class="token comment">#利用abc模块实现抽象类</span>

<span class="token keyword">class</span> <span class="token class-name">All_file</span><span class="token punctuation">(</span>metaclass<span class="token operator">=</span>abc<span class="token punctuation">.</span>ABCMeta<span class="token punctuation">)</span><span class="token punctuation">:</span>
    all_type<span class="token operator">=</span><span class="token string">'file'</span>
    <span class="token decorator annotation punctuation">@abc<span class="token punctuation">.</span>abstractmethod</span> <span class="token comment">#定义抽象方法，无需实现功能</span>
    <span class="token keyword">def</span> <span class="token function">read</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token string">'子类必须定义读功能'</span>
        <span class="token keyword">pass</span>

    @abc<span class="token punctuation">.</span>abstractmethod <span class="token comment">#定义抽象方法，无需实现功能</span>
    <span class="token keyword">def</span> <span class="token function">write</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token string">'子类必须定义写功能'</span>
        <span class="token keyword">pass</span>

<span class="token comment"># class Txt(All_file):</span>
<span class="token comment">#     pass</span>
<span class="token comment">#</span>
<span class="token comment"># t1=Txt() #报错,子类没有定义抽象方法</span>

<span class="token keyword">class</span> <span class="token class-name">Txt</span><span class="token punctuation">(</span>All_file<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token comment">#子类继承抽象类，但是必须定义read和write方法</span>
    <span class="token keyword">def</span> <span class="token function">read</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'文本数据的读取方法'</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">write</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'文本数据的读取方法'</span><span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">Sata</span><span class="token punctuation">(</span>All_file<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token comment">#子类继承抽象类，但是必须定义read和write方法</span>
    <span class="token keyword">def</span> <span class="token function">read</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'硬盘数据的读取方法'</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">write</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'硬盘数据的读取方法'</span><span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">Process</span><span class="token punctuation">(</span>All_file<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token comment">#子类继承抽象类，但是必须定义read和write方法</span>
    <span class="token keyword">def</span> <span class="token function">read</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'进程数据的读取方法'</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">write</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'进程数据的读取方法'</span><span class="token punctuation">)</span>

wenbenwenjian<span class="token operator">=</span>Txt<span class="token punctuation">(</span><span class="token punctuation">)</span>

yingpanwenjian<span class="token operator">=</span>Sata<span class="token punctuation">(</span><span class="token punctuation">)</span>

jinchengwenjian<span class="token operator">=</span>Process<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">#这样大家都是被归一化了,也就是一切皆文件的思想</span>
wenbenwenjian<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span>
yingpanwenjian<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token punctuation">)</span>
jinchengwenjian<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>wenbenwenjian<span class="token punctuation">.</span>all_type<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>yingpanwenjian<span class="token punctuation">.</span>all_type<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>jinchengwenjian<span class="token punctuation">.</span>all_type<span class="token punctuation">)</span>
</code></pre></div><blockquote><div class="language- extra-class"><pre class="language-text"><code>接口隔离原则：
使用多个专门的接口，而不使用单一的总接口。即客户端不应该依赖那些不需要的接口。
</code></pre></div></blockquote> <p>在继承抽象类的过程中，我们应该尽量避免多继承；</p> <p>而在继承接口的时候，我们反而鼓励你来多继承接口</p> <h3 id="钻石继承问题"><a href="#钻石继承问题" aria-hidden="true" class="header-anchor">#</a> 钻石继承问题<img src="/markdown-note/assets/img/oop1.bbd50b15.png" alt="img"></h3> <p>新式类：广度优先</p> <p>经典类：深度优先</p> <h2 id="多态"><a href="#多态" aria-hidden="true" class="header-anchor">#</a> 多态</h2> <p>多态性是指在不考虑实例类型的情况下使用实例</p> <h5 id="鸭子类型"><a href="#鸭子类型" aria-hidden="true" class="header-anchor">#</a> 鸭子类型</h5> <p>Python崇尚鸭子类型，即‘如果看起来像、叫声像而且走起路来像鸭子，那么它就是鸭子’。python程序员通常根据这种行为来编写程序。例如，如果想编写现有对象的自定义版本，可以继承该对象。也可以创建一个外观和行为像，但与它无任何关系的全新对象，后者通常用于保存程序组件的松耦合度。</p> <h2 id="封装"><a href="#封装" aria-hidden="true" class="header-anchor">#</a> 封装</h2> <p>隐藏对象的属性和实现细节，仅对外提供公共访问方式。</p> <p>在python中用双下划线开头的方式将属性隐藏起来（设置成私有的）</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token comment">#其实这仅仅这是一种变形操作</span>
<span class="token comment">#类中所有双下划线开头的名称如__x都会自动变形成：_类名__x的形式：</span>

<span class="token keyword">class</span> <span class="token class-name">A</span><span class="token punctuation">:</span>
    __N<span class="token operator">=</span><span class="token number">0</span> <span class="token comment">#类的数据属性就应该是共享的,但是语法上是可以把类的数据属性设置成私有的如__N,会变形为_A__N</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>__X<span class="token operator">=</span><span class="token number">10</span> <span class="token comment">#变形为self._A__X</span>
    <span class="token keyword">def</span> <span class="token function">__foo</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token comment">#变形为_A__foo</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'from A'</span><span class="token punctuation">)</span>
    <span class="token keyword">def</span> <span class="token function">bar</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>__foo<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">#只有在类内部才可以通过__foo的形式访问到.</span>

<span class="token comment">#A._A__N是可以访问到的，即这种操作并不是严格意义上的限制外部访问，仅仅只是一种语法意义上的变形</span>
</code></pre></div><p>在继承中，父类如果不想让子类覆盖自己的方法，可以将方法定义为私有的</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token comment">#把fa定义成私有的，即__fa</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">class</span> <span class="token class-name">A</span><span class="token punctuation">:</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     <span class="token keyword">def</span> <span class="token function">__fa</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token comment">#在定义时就变形为_A__fa</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>         <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'from A'</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     <span class="token keyword">def</span> <span class="token function">test</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>         self<span class="token punctuation">.</span>__fa<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">#只会与自己所在的类为准,即调用_A__fa</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> 
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">class</span> <span class="token class-name">B</span><span class="token punctuation">(</span>A<span class="token punctuation">)</span><span class="token punctuation">:</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     <span class="token keyword">def</span> <span class="token function">__fa</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>         <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'from B'</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> 
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> b<span class="token operator">=</span>B<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> b<span class="token punctuation">.</span>test<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">from</span> A
</code></pre></div><h1 id="面向对象中使用的装饰器"><a href="#面向对象中使用的装饰器" aria-hidden="true" class="header-anchor">#</a> 面向对象中使用的装饰器</h1> <h3 id="property"><a href="#property" aria-hidden="true" class="header-anchor">#</a> property</h3> <div class="language- extra-class"><pre class="language-text"><code>例一：BMI指数（bmi是计算而来的，但很明显它听起来像是一个属性而非方法，如果我们将其做成一个属性，更便于理解）

成人的BMI数值：
过轻：低于18.5
正常：18.5-23.9
过重：24-27
肥胖：28-32
非常肥胖, 高于32
　　体质指数（BMI）=体重（kg）÷身高^2（m）
　　EX：70kg÷（1.75×1.75）=22.86
</code></pre></div><div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">People</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>name<span class="token punctuation">,</span>weight<span class="token punctuation">,</span>height<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>name<span class="token operator">=</span>name
        self<span class="token punctuation">.</span>weight<span class="token operator">=</span>weight
        self<span class="token punctuation">.</span>height<span class="token operator">=</span>height
    @<span class="token builtin">property</span>
    <span class="token keyword">def</span> <span class="token function">bmi</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>weight <span class="token operator">/</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>height<span class="token operator">**</span><span class="token number">2</span><span class="token punctuation">)</span>

p1<span class="token operator">=</span>People<span class="token punctuation">(</span><span class="token string">'egon'</span><span class="token punctuation">,</span><span class="token number">75</span><span class="token punctuation">,</span><span class="token number">1.85</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>p1<span class="token punctuation">.</span>bmi<span class="token punctuation">)</span>
</code></pre></div><p>一个静态属性property本质就是实现了get，set，delete三种方法</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Goods</span><span class="token punctuation">:</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># 原价</span>
        self<span class="token punctuation">.</span>original_price <span class="token operator">=</span> <span class="token number">100</span>
        <span class="token comment"># 折扣</span>
        self<span class="token punctuation">.</span>discount <span class="token operator">=</span> <span class="token number">0.8</span>

    @<span class="token builtin">property</span>
    <span class="token keyword">def</span> <span class="token function">price</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># 实际价格 = 原价 * 折扣</span>
        new_price <span class="token operator">=</span> self<span class="token punctuation">.</span>original_price <span class="token operator">*</span> self<span class="token punctuation">.</span>discount
        <span class="token keyword">return</span> new_price

    @price<span class="token punctuation">.</span>setter
    <span class="token keyword">def</span> <span class="token function">price</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>original_price <span class="token operator">=</span> value

    @price<span class="token punctuation">.</span>deleter
    <span class="token keyword">def</span> <span class="token function">price</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">del</span> self<span class="token punctuation">.</span>original_price


obj <span class="token operator">=</span> Goods<span class="token punctuation">(</span><span class="token punctuation">)</span>
obj<span class="token punctuation">.</span>price         <span class="token comment"># 获取商品价格</span>
obj<span class="token punctuation">.</span>price <span class="token operator">=</span> <span class="token number">200</span>   <span class="token comment"># 修改商品原价</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>price<span class="token punctuation">)</span>
<span class="token keyword">del</span> obj<span class="token punctuation">.</span>price     <span class="token comment"># 删除商品原价</span>
</code></pre></div><h3 id="classmethod"><a href="#classmethod" aria-hidden="true" class="header-anchor">#</a> classmethod</h3> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Classmethod_Demo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    role <span class="token operator">=</span> <span class="token string">'dog'</span>

    <span class="token decorator annotation punctuation">@classmethod</span>
    <span class="token keyword">def</span> <span class="token function">func</span><span class="token punctuation">(</span>cls<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>cls<span class="token punctuation">.</span>role<span class="token punctuation">)</span>
Classmethod_Demo<span class="token punctuation">.</span>func<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="staticmethod"><a href="#staticmethod" aria-hidden="true" class="header-anchor">#</a> staticmethod</h3> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Staticmethod_Demo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    role <span class="token operator">=</span> <span class="token string">'dog'</span>

    <span class="token decorator annotation punctuation">@staticmethod</span>
    <span class="token keyword">def</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;当普通方法用&quot;</span><span class="token punctuation">)</span>

Staticmethod_Demo<span class="token punctuation">.</span>func<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="与面向对象有关的内置方法"><a href="#与面向对象有关的内置方法" aria-hidden="true" class="header-anchor">#</a> 与面向对象有关的内置方法</h2> <div class="language-python extra-class"><pre class="language-python"><code><span class="token builtin">isinstance</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span>cls<span class="token punctuation">)</span><span class="token comment">#检查是否obj是否是类 cls 的对象</span>
<span class="token builtin">issubclass</span><span class="token punctuation">(</span>sub<span class="token punctuation">,</span> <span class="token builtin">super</span><span class="token punctuation">)</span><span class="token comment">#检查sub类是否是 super 类的派生类</span>
</code></pre></div><h1 id="反射"><a href="#反射" aria-hidden="true" class="header-anchor">#</a> 反射</h1> <p>python面向对象中的反射：通过字符串的形式操作对象相关的属性。python中的一切事物都是对象（都可以使用反射）</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Foo</span><span class="token punctuation">:</span>
    f <span class="token operator">=</span> <span class="token string">'类的静态变量'</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>name<span class="token punctuation">,</span>age<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>name<span class="token operator">=</span>name
        self<span class="token punctuation">.</span>age<span class="token operator">=</span>age

    <span class="token keyword">def</span> <span class="token function">say_hi</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'hi,%s'</span><span class="token operator">%</span>self<span class="token punctuation">.</span>name<span class="token punctuation">)</span>

obj<span class="token operator">=</span>Foo<span class="token punctuation">(</span><span class="token string">'egon'</span><span class="token punctuation">,</span><span class="token number">73</span><span class="token punctuation">)</span>

<span class="token comment">#检测是否含有某属性</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">hasattr</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span><span class="token string">'name'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">hasattr</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span><span class="token string">'say_hi'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">#获取属性</span>
n<span class="token operator">=</span><span class="token builtin">getattr</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span><span class="token string">'name'</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span>
func<span class="token operator">=</span><span class="token builtin">getattr</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span><span class="token string">'say_hi'</span><span class="token punctuation">)</span>
func<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">getattr</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span><span class="token string">'aaaaaaaa'</span><span class="token punctuation">,</span><span class="token string">'不存在啊'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#报错</span>

<span class="token comment">#设置属性</span>
<span class="token builtin">setattr</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span><span class="token string">'sb'</span><span class="token punctuation">,</span><span class="token boolean">True</span><span class="token punctuation">)</span>
<span class="token builtin">setattr</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span><span class="token string">'show_name'</span><span class="token punctuation">,</span><span class="token keyword">lambda</span> self<span class="token punctuation">:</span>self<span class="token punctuation">.</span>name<span class="token operator">+</span><span class="token string">'sb'</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>__dict__<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>show_name<span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">#删除属性</span>
<span class="token builtin">delattr</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span><span class="token string">'age'</span><span class="token punctuation">)</span>
<span class="token builtin">delattr</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span><span class="token string">'show_name'</span><span class="token punctuation">)</span>
<span class="token builtin">delattr</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span><span class="token string">'show_name111'</span><span class="token punctuation">)</span><span class="token comment">#不存在,则报错</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>__dict__<span class="token punctuation">)</span>
</code></pre></div><p>反射当前模块成员</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token comment">#!/usr/bin/env python</span>
<span class="token comment"># -*- coding:utf-8 -*-</span>

<span class="token keyword">import</span> sys


<span class="token keyword">def</span> <span class="token function">s1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span> <span class="token string">'s1'</span>


<span class="token keyword">def</span> <span class="token function">s2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span> <span class="token string">'s2'</span>


this_module <span class="token operator">=</span> sys<span class="token punctuation">.</span>modules<span class="token punctuation">[</span>__name__<span class="token punctuation">]</span>

<span class="token builtin">hasattr</span><span class="token punctuation">(</span>this_module<span class="token punctuation">,</span> <span class="token string">'s1'</span><span class="token punctuation">)</span>
<span class="token builtin">getattr</span><span class="token punctuation">(</span>this_module<span class="token punctuation">,</span> <span class="token string">'s2'</span><span class="token punctuation">)</span>
</code></pre></div></div> <div class="page-edit"><!----> <!----></div> <!----> </div> <!----></div></div>
    <script src="/markdown-note/assets/js/app.10f2f5d4.js" defer></script><script src="/markdown-note/assets/js/7.9218be4d.js" defer></script>
  </body>
</html>
