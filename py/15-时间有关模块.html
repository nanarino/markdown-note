<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>时间有关模块 | nanarino note</title>
    <meta name="description" content="a note I took with markdown">
    
    
    <link rel="preload" href="/markdown-note/assets/css/0.styles.447f505d.css" as="style"><link rel="preload" href="/markdown-note/assets/js/app.10f2f5d4.js" as="script"><link rel="preload" href="/markdown-note/assets/js/5.8faa297c.js" as="script"><link rel="prefetch" href="/markdown-note/assets/js/10.c36c8c99.js"><link rel="prefetch" href="/markdown-note/assets/js/11.3ca32aa8.js"><link rel="prefetch" href="/markdown-note/assets/js/12.431aa9de.js"><link rel="prefetch" href="/markdown-note/assets/js/13.3a3307fa.js"><link rel="prefetch" href="/markdown-note/assets/js/14.26e3e81e.js"><link rel="prefetch" href="/markdown-note/assets/js/15.23bf0b11.js"><link rel="prefetch" href="/markdown-note/assets/js/16.0a3923a4.js"><link rel="prefetch" href="/markdown-note/assets/js/17.7f4a17ab.js"><link rel="prefetch" href="/markdown-note/assets/js/18.519ebe17.js"><link rel="prefetch" href="/markdown-note/assets/js/19.71fee398.js"><link rel="prefetch" href="/markdown-note/assets/js/2.11da7a94.js"><link rel="prefetch" href="/markdown-note/assets/js/20.594efd53.js"><link rel="prefetch" href="/markdown-note/assets/js/21.4ec3995d.js"><link rel="prefetch" href="/markdown-note/assets/js/22.20ef2aa3.js"><link rel="prefetch" href="/markdown-note/assets/js/23.d211eb36.js"><link rel="prefetch" href="/markdown-note/assets/js/24.a894106c.js"><link rel="prefetch" href="/markdown-note/assets/js/25.054a8bac.js"><link rel="prefetch" href="/markdown-note/assets/js/26.225f818f.js"><link rel="prefetch" href="/markdown-note/assets/js/27.12c563b2.js"><link rel="prefetch" href="/markdown-note/assets/js/28.761b92cd.js"><link rel="prefetch" href="/markdown-note/assets/js/29.4734fd13.js"><link rel="prefetch" href="/markdown-note/assets/js/3.23b2bd9c.js"><link rel="prefetch" href="/markdown-note/assets/js/30.b507109c.js"><link rel="prefetch" href="/markdown-note/assets/js/31.4ee9ca42.js"><link rel="prefetch" href="/markdown-note/assets/js/32.5aba6820.js"><link rel="prefetch" href="/markdown-note/assets/js/33.bd433285.js"><link rel="prefetch" href="/markdown-note/assets/js/34.7d784b83.js"><link rel="prefetch" href="/markdown-note/assets/js/35.c0c148e7.js"><link rel="prefetch" href="/markdown-note/assets/js/36.7a0cb274.js"><link rel="prefetch" href="/markdown-note/assets/js/37.fa24b958.js"><link rel="prefetch" href="/markdown-note/assets/js/38.982f2380.js"><link rel="prefetch" href="/markdown-note/assets/js/39.2556b6d1.js"><link rel="prefetch" href="/markdown-note/assets/js/4.d1d93ed5.js"><link rel="prefetch" href="/markdown-note/assets/js/40.561f060d.js"><link rel="prefetch" href="/markdown-note/assets/js/41.4f00cbad.js"><link rel="prefetch" href="/markdown-note/assets/js/42.99a58740.js"><link rel="prefetch" href="/markdown-note/assets/js/43.7e1c3c1c.js"><link rel="prefetch" href="/markdown-note/assets/js/44.fe60b089.js"><link rel="prefetch" href="/markdown-note/assets/js/45.aef69035.js"><link rel="prefetch" href="/markdown-note/assets/js/46.bb9bb7ed.js"><link rel="prefetch" href="/markdown-note/assets/js/47.6bccc360.js"><link rel="prefetch" href="/markdown-note/assets/js/48.a19e74d7.js"><link rel="prefetch" href="/markdown-note/assets/js/49.d476107f.js"><link rel="prefetch" href="/markdown-note/assets/js/50.129e4399.js"><link rel="prefetch" href="/markdown-note/assets/js/51.5b9dbf37.js"><link rel="prefetch" href="/markdown-note/assets/js/52.e446cd88.js"><link rel="prefetch" href="/markdown-note/assets/js/53.8f1dc5c5.js"><link rel="prefetch" href="/markdown-note/assets/js/54.bf79f3a6.js"><link rel="prefetch" href="/markdown-note/assets/js/55.080d6c5e.js"><link rel="prefetch" href="/markdown-note/assets/js/56.779c6469.js"><link rel="prefetch" href="/markdown-note/assets/js/57.f9b95ed0.js"><link rel="prefetch" href="/markdown-note/assets/js/58.0f65d9c9.js"><link rel="prefetch" href="/markdown-note/assets/js/59.518e554a.js"><link rel="prefetch" href="/markdown-note/assets/js/6.3fa7f94b.js"><link rel="prefetch" href="/markdown-note/assets/js/60.42e4659c.js"><link rel="prefetch" href="/markdown-note/assets/js/61.f614798e.js"><link rel="prefetch" href="/markdown-note/assets/js/7.9218be4d.js"><link rel="prefetch" href="/markdown-note/assets/js/8.3269e16e.js"><link rel="prefetch" href="/markdown-note/assets/js/9.9f38b659.js">
    <link rel="stylesheet" href="/markdown-note/assets/css/0.styles.447f505d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/markdown-note/" class="home-link router-link-active"><!----> <span class="site-name">nanarino note</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/markdown-note/js/" class="nav-link">JavaScript</a></div><div class="nav-item"><a href="/markdown-note/py/" class="nav-link router-link-active">Python</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Other</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/nanarino/markdown-note" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://www.akokono.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Mysite
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/markdown-note/js/" class="nav-link">JavaScript</a></div><div class="nav-item"><a href="/markdown-note/py/" class="nav-link router-link-active">Python</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Other</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/nanarino/markdown-note" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://www.akokono.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Mysite
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading"><span>起步</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>数据类型</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>函数</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading open"><span>常用模块</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/markdown-note/py/13-正则表达式.html" class="sidebar-link">正则表达式</a></li><li><a href="/markdown-note/py/14-collections模块.html" class="sidebar-link">collections模块</a></li><li><a href="/markdown-note/py/15-时间有关模块.html" class="active sidebar-link">时间有关模块</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/markdown-note/py/15-时间有关模块.html#time模块" class="sidebar-link">time模块</a></li><li class="sidebar-sub-header"><a href="/markdown-note/py/15-时间有关模块.html#选修-datetime模块" class="sidebar-link">选修:datetime模块</a></li></ul></li><li><a href="/markdown-note/py/16-random模块.html" class="sidebar-link">random模块</a></li><li><a href="/markdown-note/py/17-os模块和sys模块.html" class="sidebar-link">os模块和sys模块</a></li><li><a href="/markdown-note/py/18-序列化有关模块.html" class="sidebar-link">序列化有关模块</a></li><li><a href="/markdown-note/py/19-模块和包.html" class="sidebar-link">模块和包</a></li><li><a href="/markdown-note/py/20-异常抛出和捕获.html" class="sidebar-link">异常的抛出和捕获</a></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>面向对象</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>网络编程</span> <span class="arrow right"></span></p> <!----></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="时间有关模块"><a href="#时间有关模块" aria-hidden="true" class="header-anchor">#</a> 时间有关模块</h1> <h2 id="time模块"><a href="#time模块" aria-hidden="true" class="header-anchor">#</a> time模块</h2> <p>导入模块。</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token comment">#常用方法</span>
<span class="token number">1.</span>time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span>secs<span class="token punctuation">)</span>
<span class="token comment">#(线程)推迟指定的时间运行。单位为秒。</span>
<span class="token number">2.</span>time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">#获取当前时间戳</span>
</code></pre></div><p><strong>表示时间的三种方式</strong></p> <p>在Python中，通常有这三种方式来表示时间：时间戳、元组(struct_time)、格式化的时间字符串：</p> <p>(1)时间戳(timestamp) ：通常来说，时间戳表示的是从1970年1月1日00:00:00开始按秒计算的偏移量。我们运行“type(time.time())”，返回的是float类型。</p> <p>(2)格式化的时间字符串(Format String)： ‘1999-12-06’</p> <div class="language-txt extra-class"><pre class="language-text"><code>%y 两位数的年份表示（00-99）
%Y 四位数的年份表示（000-9999）
%m 月份（01-12）
%d 月内中的一天（0-31）
%H 24小时制小时数（0-23）
%I 12小时制小时数（01-12）
%M 分钟数（00=59）
%S 秒（00-59）
%a 本地简化星期名称
%A 本地完整星期名称
%b 本地简化的月份名称
%B 本地完整的月份名称
%c 本地相应的日期表示和时间表示
%j 年内的一天（001-366）
%p 本地A.M.或P.M.的等价符
%U 一年中的星期数（00-53）星期天为星期的开始
%w 星期（0-6），星期天为星期的开始
%W 一年中的星期数（00-53）星期一为星期的开始
%x 本地相应的日期表示
%X 本地相应的时间表示
%Z 当前时区的名称
%% %号本身
</code></pre></div><p>(3)元组(struct_time) ：struct_time元组共有9个元素共九个元素:(年，月，日，时，分，秒，一年中第几周，一年中第几天等）</p> <table><thead><tr><th>索引（Index）</th> <th>属性（Attribute）</th> <th>值（Values）</th></tr></thead> <tbody><tr><td>0</td> <td>tm_year（年）</td> <td>比如2011</td></tr> <tr><td>1</td> <td>tm_mon（月）</td> <td>1 - 12</td></tr> <tr><td>2</td> <td>tm_mday（日）</td> <td>1 - 31</td></tr> <tr><td>3</td> <td>tm_hour（时）</td> <td>0 - 23</td></tr> <tr><td>4</td> <td>tm_min（分）</td> <td>0 - 59</td></tr> <tr><td>5</td> <td>tm_sec（秒）</td> <td>0 - 60</td></tr> <tr><td>6</td> <td>tm_wday（weekday）</td> <td>0 - 6（0表示周一）</td></tr> <tr><td>7</td> <td>tm_yday（一年中的第几天）</td> <td>1 - 366</td></tr> <tr><td>8</td> <td>tm_isdst（是否是夏令时）</td> <td>默认为0</td></tr></tbody></table> <p>首先，我们先导入time模块，来认识一下python中表示时间的几种格式：</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token comment">#导入时间模块</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span><span class="token keyword">import</span> time

<span class="token comment">#时间戳</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span>time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token number">1500875844.800804</span>

<span class="token comment">#时间字符串</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span>time<span class="token punctuation">.</span>strftime<span class="token punctuation">(</span><span class="token string">&quot;%Y-%m-%d %X&quot;</span><span class="token punctuation">)</span>
<span class="token string">'2017-07-24 13:54:37'</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span>time<span class="token punctuation">.</span>strftime<span class="token punctuation">(</span><span class="token string">&quot;%Y-%m-%d %H-%M-%S&quot;</span><span class="token punctuation">)</span>
<span class="token string">'2017-07-24 13-55-04'</span>

<span class="token comment">#时间元组:localtime将一个时间戳转换为当前时区的struct_time</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span>time<span class="token punctuation">.</span>localtime<span class="token punctuation">(</span><span class="token punctuation">)</span>
time<span class="token punctuation">.</span>struct_time<span class="token punctuation">(</span>tm_year<span class="token operator">=</span><span class="token number">2017</span><span class="token punctuation">,</span> tm_mon<span class="token operator">=</span><span class="token number">7</span><span class="token punctuation">,</span> tm_mday<span class="token operator">=</span><span class="token number">24</span><span class="token punctuation">,</span>
　　　　　　　　　　tm_hour<span class="token operator">=</span><span class="token number">13</span><span class="token punctuation">,</span> tm_min<span class="token operator">=</span><span class="token number">59</span><span class="token punctuation">,</span> tm_sec<span class="token operator">=</span><span class="token number">37</span><span class="token punctuation">,</span> 
                 tm_wday<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> tm_yday<span class="token operator">=</span><span class="token number">205</span><span class="token punctuation">,</span> tm_isdst<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>
</code></pre></div><p>小结：时间戳是计算机能够识别的时间；时间字符串是人能够看懂的时间；元组则是用来操作时间的</p> <p><strong>几种格式之间的转换</strong></p> <p><img src="/markdown-note/assets/img/time1.dd351c72.png" alt="img"></p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token comment">#时间戳--&gt;结构化时间</span>
<span class="token comment">#time.gmtime(时间戳)    #UTC时间，与英国伦敦当地时间一致</span>
<span class="token comment">#time.localtime(时间戳) #当地时间。例如我们现在在北京执行这个方法：与UTC时间相差8小时，UTC时间+8小时 = 北京时间 </span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span>time<span class="token punctuation">.</span>gmtime<span class="token punctuation">(</span><span class="token number">1500000000</span><span class="token punctuation">)</span>
time<span class="token punctuation">.</span>struct_time<span class="token punctuation">(</span>tm_year<span class="token operator">=</span><span class="token number">2017</span><span class="token punctuation">,</span> tm_mon<span class="token operator">=</span><span class="token number">7</span><span class="token punctuation">,</span> tm_mday<span class="token operator">=</span><span class="token number">14</span><span class="token punctuation">,</span> tm_hour<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span> tm_min<span class="token operator">=</span><span class="token number">40</span><span class="token punctuation">,</span> tm_sec<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> tm_wday<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">,</span> tm_yday<span class="token operator">=</span><span class="token number">195</span><span class="token punctuation">,</span> tm_isdst<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span>time<span class="token punctuation">.</span>localtime<span class="token punctuation">(</span><span class="token number">1500000000</span><span class="token punctuation">)</span>
time<span class="token punctuation">.</span>struct_time<span class="token punctuation">(</span>tm_year<span class="token operator">=</span><span class="token number">2017</span><span class="token punctuation">,</span> tm_mon<span class="token operator">=</span><span class="token number">7</span><span class="token punctuation">,</span> tm_mday<span class="token operator">=</span><span class="token number">14</span><span class="token punctuation">,</span> tm_hour<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">,</span> tm_min<span class="token operator">=</span><span class="token number">40</span><span class="token punctuation">,</span> tm_sec<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> tm_wday<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">,</span> tm_yday<span class="token operator">=</span><span class="token number">195</span><span class="token punctuation">,</span> tm_isdst<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>

<span class="token comment">#结构化时间--&gt;时间戳　</span>
<span class="token comment">#time.mktime(结构化时间)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span>time_tuple <span class="token operator">=</span> time<span class="token punctuation">.</span>localtime<span class="token punctuation">(</span><span class="token number">1500000000</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span>time<span class="token punctuation">.</span>mktime<span class="token punctuation">(</span>time_tuple<span class="token punctuation">)</span>
<span class="token number">1500000000.0</span>
</code></pre></div><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment">#结构化时间--&gt;字符串时间</span>
<span class="token comment">#time.strftime(&quot;格式定义&quot;,&quot;结构化时间&quot;)  结构化时间参数若不传，则显示当前时间</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span>time<span class="token punctuation">.</span>strftime<span class="token punctuation">(</span><span class="token string">&quot;%Y-%m-%d %X&quot;</span><span class="token punctuation">)</span>
<span class="token string">'2017-07-24 14:55:36'</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span>time<span class="token punctuation">.</span>strftime<span class="token punctuation">(</span><span class="token string">&quot;%Y-%m-%d&quot;</span><span class="token punctuation">,</span>time<span class="token punctuation">.</span>localtime<span class="token punctuation">(</span><span class="token number">1500000000</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token string">'2017-07-14'</span>

<span class="token comment">#字符串时间--&gt;结构化时间</span>
<span class="token comment">#time.strptime(时间字符串,字符串对应格式)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span>time<span class="token punctuation">.</span>strptime<span class="token punctuation">(</span><span class="token string">&quot;2017-03-16&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;%Y-%m-%d&quot;</span><span class="token punctuation">)</span>
time<span class="token punctuation">.</span>struct_time<span class="token punctuation">(</span>tm_year<span class="token operator">=</span><span class="token number">2017</span><span class="token punctuation">,</span> tm_mon<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">,</span> tm_mday<span class="token operator">=</span><span class="token number">16</span><span class="token punctuation">,</span> tm_hour<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> tm_min<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> tm_sec<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> tm_wday<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">,</span> tm_yday<span class="token operator">=</span><span class="token number">75</span><span class="token punctuation">,</span> tm_isdst<span class="token operator">=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span>time<span class="token punctuation">.</span>strptime<span class="token punctuation">(</span><span class="token string">&quot;07/24/2017&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;%m/%d/%Y&quot;</span><span class="token punctuation">)</span>
time<span class="token punctuation">.</span>struct_time<span class="token punctuation">(</span>tm_year<span class="token operator">=</span><span class="token number">2017</span><span class="token punctuation">,</span> tm_mon<span class="token operator">=</span><span class="token number">7</span><span class="token punctuation">,</span> tm_mday<span class="token operator">=</span><span class="token number">24</span><span class="token punctuation">,</span> tm_hour<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> tm_min<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> tm_sec<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> tm_wday<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> tm_yday<span class="token operator">=</span><span class="token number">205</span><span class="token punctuation">,</span> tm_isdst<span class="token operator">=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
</code></pre></div><p><img src="/markdown-note/assets/img/time2.b38f2b08.png" alt="img"></p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token comment">#结构化时间 --&gt; %a %b %d %H:%M:%S %Y串</span>
<span class="token comment">#time.asctime(结构化时间) 如果不传参数，直接返回当前时间的格式化串</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span>time<span class="token punctuation">.</span>asctime<span class="token punctuation">(</span>time<span class="token punctuation">.</span>localtime<span class="token punctuation">(</span><span class="token number">1500000000</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token string">'Fri Jul 14 10:40:00 2017'</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span>time<span class="token punctuation">.</span>asctime<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token string">'Mon Jul 24 15:18:33 2017'</span>

<span class="token comment">#时间戳 --&gt; %a %b %d %H:%M:%S %Y串</span>
<span class="token comment">#time.ctime(时间戳)  如果不传参数，直接返回当前时间的格式化串</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span>time<span class="token punctuation">.</span>ctime<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token string">'Mon Jul 24 15:19:07 2017'</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span>time<span class="token punctuation">.</span>ctime<span class="token punctuation">(</span><span class="token number">1500000000</span><span class="token punctuation">)</span>
<span class="token string">'Fri Jul 14 10:40:00 2017'</span> 
</code></pre></div><h5 id="计算时间差"><a href="#计算时间差" aria-hidden="true" class="header-anchor">#</a> 计算时间差</h5> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">import</span> time
true_time<span class="token operator">=</span>time<span class="token punctuation">.</span>mktime<span class="token punctuation">(</span>time<span class="token punctuation">.</span>strptime<span class="token punctuation">(</span><span class="token string">'2017-09-11 08:30:00'</span><span class="token punctuation">,</span><span class="token string">'%Y-%m-%d %H:%M:%S'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
time_now<span class="token operator">=</span>time<span class="token punctuation">.</span>mktime<span class="token punctuation">(</span>time<span class="token punctuation">.</span>strptime<span class="token punctuation">(</span><span class="token string">'2017-09-12 11:00:00'</span><span class="token punctuation">,</span><span class="token string">'%Y-%m-%d %H:%M:%S'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
dif_time<span class="token operator">=</span>time_now<span class="token operator">-</span>true_time
struct_time<span class="token operator">=</span>time<span class="token punctuation">.</span>gmtime<span class="token punctuation">(</span>dif_time<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'过去了%d年%d月%d天%d小时%d分钟%d秒'</span><span class="token operator">%</span><span class="token punctuation">(</span>struct_time<span class="token punctuation">.</span>tm_year<span class="token operator">-</span><span class="token number">1970</span><span class="token punctuation">,</span>struct_time<span class="token punctuation">.</span>tm_mon<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>
struct_time<span class="token punctuation">.</span>tm_mday<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>struct_time<span class="token punctuation">.</span>tm_hour<span class="token punctuation">,</span>
struct_time<span class="token punctuation">.</span>tm_min<span class="token punctuation">,</span>struct_time<span class="token punctuation">.</span>tm_sec<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">#关于计算时间差，这只是一个练习，后面有datetime模块可以回避闰年等问题</span>
</code></pre></div><h2 id="选修-datetime模块"><a href="#选修-datetime模块" aria-hidden="true" class="header-anchor">#</a> 选修:datetime模块</h2> <h5 id="类"><a href="#类" aria-hidden="true" class="header-anchor">#</a> 类</h5> <table><thead><tr><th style="text-align:center">类名</th> <th style="text-align:center">功能说明</th></tr></thead> <tbody><tr><td style="text-align:center">date</td> <td style="text-align:center">日期对象,常用的属性有year, month, day</td></tr> <tr><td style="text-align:center">time</td> <td style="text-align:center">时间对象</td></tr> <tr><td style="text-align:center">datetime</td> <td style="text-align:center">日期时间对象,常用的属性有hour, minute, second, microsecond</td></tr> <tr><td style="text-align:center">datetime_CAPI</td> <td style="text-align:center">日期时间对象C语言接口</td></tr> <tr><td style="text-align:center">timedelta</td> <td style="text-align:center">时间间隔，即两个时间点之间的长度</td></tr> <tr><td style="text-align:center">tzinfo</td> <td style="text-align:center">时区信息对象</td></tr></tbody></table> <h5 id="常量"><a href="#常量" aria-hidden="true" class="header-anchor">#</a> 常量</h5> <table><thead><tr><th style="text-align:center">常量</th> <th style="text-align:center">功能说明</th> <th style="text-align:center">用法</th> <th style="text-align:center">返回值</th></tr></thead> <tbody><tr><td style="text-align:center">MAXYEAR</td> <td style="text-align:center">返回能表示的最大年份</td> <td style="text-align:center">datetime.MAXYEAR</td> <td style="text-align:center">9999</td></tr> <tr><td style="text-align:center">MINYEAR</td> <td style="text-align:center">返回能表示的最小年份</td> <td style="text-align:center">datetime.MINYEAR</td> <td style="text-align:center">1</td></tr></tbody></table> <h3 id="date类"><a href="#date类" aria-hidden="true" class="header-anchor">#</a> date类</h3> <p>date对象由year年份、month月份及day日期三部分构成</p> <div class="language-python extra-class"><pre class="language-python"><code>date（year，month，day<span class="token punctuation">)</span> 
</code></pre></div><p>通过year, month, day三个数据描述符可以进行访问</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a <span class="token operator">=</span> datetime<span class="token punctuation">.</span>date<span class="token punctuation">.</span>today<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a
datetime<span class="token punctuation">.</span>date<span class="token punctuation">(</span><span class="token number">2017</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a<span class="token punctuation">.</span>year
<span class="token number">2017</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a<span class="token punctuation">.</span>month
<span class="token number">3</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a<span class="token punctuation">.</span>day
<span class="token number">22</span> 
</code></pre></div><p>当然，你也可以用<code>__getattribute__(...)</code>方法获得上述值</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a<span class="token punctuation">.</span>__getattribute__<span class="token punctuation">(</span><span class="token string">'year'</span><span class="token punctuation">)</span>
<span class="token number">2017</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a<span class="token punctuation">.</span>__getattribute__<span class="token punctuation">(</span><span class="token string">'month'</span><span class="token punctuation">)</span>
<span class="token number">3</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a<span class="token punctuation">.</span>__getattribute__<span class="token punctuation">(</span><span class="token string">'day'</span><span class="token punctuation">)</span>
<span class="token number">22</span>
</code></pre></div><h3 id="date对象中包含的方法与属性"><a href="#date对象中包含的方法与属性" aria-hidden="true" class="header-anchor">#</a> date对象中包含的方法与属性</h3> <p>用于日期比较大小的方法</p> <table><thead><tr><th><code>方法名</code></th> <th><code>方法说明</code></th> <th><code>用法</code></th></tr></thead> <tbody><tr><td><code>__eq__(…)</code></td> <td>等于(x==y)</td> <td><code>x.__eq__(y)</code></td></tr> <tr><td><code>__ge__(…)</code></td> <td>大于等于(x&gt;=y)</td> <td><code>x.__ge__(y)</code></td></tr> <tr><td><code>__gt__(…)</code></td> <td>大于(x&gt;y)</td> <td><code>x.__gt__(y)</code></td></tr> <tr><td><code>__le__(…)</code></td> <td>小于等于(x&lt;=y)</td> <td><code>x.__le__(y)</code></td></tr> <tr><td><code>__lt__(…)</code></td> <td>小于(x&lt;y)</td> <td><code>x.__lt__(y)</code></td></tr> <tr><td><code>__ne__(…)</code></td> <td>不等于(x!=y)</td> <td><code>x.__ne__(y)</code></td></tr></tbody></table> <p>以上方法的返回值为True\False  示例如下</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a<span class="token operator">=</span>datetime<span class="token punctuation">.</span>date<span class="token punctuation">(</span><span class="token number">2017</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> b<span class="token operator">=</span>datetime<span class="token punctuation">.</span>date<span class="token punctuation">(</span><span class="token number">2017</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a<span class="token punctuation">.</span>__eq__<span class="token punctuation">(</span>b<span class="token punctuation">)</span>
<span class="token boolean">False</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a<span class="token punctuation">.</span>__ge__<span class="token punctuation">(</span>b<span class="token punctuation">)</span>
<span class="token boolean">False</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a<span class="token punctuation">.</span>__gt__<span class="token punctuation">(</span>b<span class="token punctuation">)</span>
<span class="token boolean">False</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a<span class="token punctuation">.</span>__le__<span class="token punctuation">(</span>b<span class="token punctuation">)</span>
<span class="token boolean">True</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a<span class="token punctuation">.</span>__lt__<span class="token punctuation">(</span>b<span class="token punctuation">)</span>
<span class="token boolean">True</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a<span class="token punctuation">.</span>__ne__<span class="token punctuation">(</span>b<span class="token punctuation">)</span>
<span class="token boolean">True</span>
</code></pre></div><h5 id="获得二个日期相差多少天"><a href="#获得二个日期相差多少天" aria-hidden="true" class="header-anchor">#</a> 获得二个日期相差多少天</h5> <p>使用<code>__sub__(...)</code>和<code>__rsub__(...)</code>方法，其实二个方法差不太多，一个是正向操作，一个是反向操作：</p> <table><thead><tr><th>方法名</th> <th>方法说明</th> <th>用法</th></tr></thead> <tbody><tr><td><code>__sub__(…)</code></td> <td>x - y</td> <td><code>x.__sub__(y)</code></td></tr> <tr><td><code>__rsub__(…)</code></td> <td>y - x</td> <td><code>x.__rsub__(y)</code></td></tr></tbody></table> <div class="language-python extra-class"><pre class="language-python"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a
datetime<span class="token punctuation">.</span>date<span class="token punctuation">(</span><span class="token number">2017</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> b
datetime<span class="token punctuation">.</span>date<span class="token punctuation">(</span><span class="token number">2017</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a<span class="token punctuation">.</span>__sub__<span class="token punctuation">(</span>b<span class="token punctuation">)</span>
datetime<span class="token punctuation">.</span>timedelta<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a<span class="token punctuation">.</span>__rsub__<span class="token punctuation">(</span>b<span class="token punctuation">)</span>
datetime<span class="token punctuation">.</span>timedelta<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">7</span><span class="token punctuation">)</span>
<span class="token comment">#计算结果的返回值类型为datetime.timedelta, 如果获得整数类型的结果则按下面的方法操作：</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a<span class="token punctuation">.</span>__sub__<span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">.</span>days
<span class="token number">7</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a<span class="token punctuation">.</span>__rsub__<span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">.</span>days
<span class="token operator">-</span><span class="token number">7</span>
</code></pre></div><h5 id="iso标准化日期"><a href="#iso标准化日期" aria-hidden="true" class="header-anchor">#</a> ISO标准化日期</h5> <p>如果想要让所使用的日期符合ISO标准，那么使用如下三个方法:</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token comment">#.isocalendar():返回一个包含三个值的元组，三个值依次为：year年份，week number周数，weekday星期数（周一为1…周日为7)：</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a <span class="token operator">=</span> datetime<span class="token punctuation">.</span>date<span class="token punctuation">(</span><span class="token number">2017</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">22</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a<span class="token punctuation">.</span>isocalendar<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token number">2017</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a<span class="token punctuation">.</span>isocalendar<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
<span class="token number">2017</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a<span class="token punctuation">.</span>isocalendar<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
<span class="token number">12</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a<span class="token punctuation">.</span>isocalendar<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>
<span class="token number">3</span>

<span class="token comment">#.isoformat(...): 返回符合ISO 8601标准 (YYYY-MM-DD) 的日期字符串； </span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a <span class="token operator">=</span> datetime<span class="token punctuation">.</span>date<span class="token punctuation">(</span><span class="token number">2017</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">22</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a<span class="token punctuation">.</span>isoformat<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token string">'2017-03-22'</span>

<span class="token comment">#.isoweekday(...): 返回符合ISO标准的指定日期所在的星期数（周一为1…周日为7)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a <span class="token operator">=</span> datetime<span class="token punctuation">.</span>date<span class="token punctuation">(</span><span class="token number">2017</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">22</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a<span class="token punctuation">.</span>isoweekday<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token number">3</span>

<span class="token comment">#与isoweekday(...)相似的还有一个weekday(...)方法，只不过是weekday(...)方法返回的周一为 0, 周日为 6 </span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a <span class="token operator">=</span> datetime<span class="token punctuation">.</span>date<span class="token punctuation">(</span><span class="token number">2017</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">22</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a<span class="token punctuation">.</span>weekday<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token number">2</span>

</code></pre></div><h5 id="其他方法与属性"><a href="#其他方法与属性" aria-hidden="true" class="header-anchor">#</a> 其他方法与属性</h5> <div class="language-python extra-class"><pre class="language-python"><code><span class="token comment">#timetuple(...):该方法为了兼容time.localtime(...)返回一个类型为time.struct_time的数组，但有关时间的部分元素值为0</span>
<span class="token comment">#toordinal(...)：返回公元公历开始到现在的天数。公元1年1月1日为1</span>
<span class="token comment">#replace(...)：返回一个替换指定日期字段的新date对象。参数3个可选参数，分别为year,month,day。注意替换是产生新对象，不影响原date对象。</span>
<span class="token comment">#resolution：date对象表示日期的最小单位。这里是天。</span>
<span class="token comment">#fromordinal(...)：将Gregorian日历时间转换为date对象；Gregorian Calendar ：一种日历表示方法，类似于我国的农历，西方国家使用比较多。</span>
<span class="token comment">#fromtimestamp(...)：根据给定的时间戮，返回一个date对象</span>
<span class="token comment">#today(...)：返回当前日期</span>
<span class="token comment">#max： date类能表示的最大的年、月、日的数值</span>
<span class="token comment">#min： date类能表示的最小的年、月、日的数值</span>
</code></pre></div><h4 id="日期的字符串输出"><a href="#日期的字符串输出" aria-hidden="true" class="header-anchor">#</a> 日期的字符串输出</h4> <p>如果你想将日期对象转化为字符串对象的话，可以用到<code>__format__(...)</code>方法以指定格式进行日期输出：</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a <span class="token operator">=</span> datetime<span class="token punctuation">.</span>date<span class="token punctuation">(</span><span class="token number">2017</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">22</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a<span class="token punctuation">.</span>__format__<span class="token punctuation">(</span><span class="token string">'%Y-%m-%d'</span><span class="token punctuation">)</span>
<span class="token string">'2017-03-22'</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a<span class="token punctuation">.</span>__format__<span class="token punctuation">(</span><span class="token string">'%Y/%m/%d'</span><span class="token punctuation">)</span>
<span class="token string">'2017/03/22'</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a<span class="token punctuation">.</span>__format__<span class="token punctuation">(</span><span class="token string">'%y/%m/%d'</span><span class="token punctuation">)</span>
<span class="token string">'17/03/22'</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a<span class="token punctuation">.</span>__format__<span class="token punctuation">(</span><span class="token string">'%D'</span><span class="token punctuation">)</span>
<span class="token string">'03/22/17'</span>
</code></pre></div><p>与此方法等价的方法为strftime(...)</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a <span class="token operator">=</span> datetime<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">59</span><span class="token punctuation">,</span><span class="token number">899</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a<span class="token punctuation">.</span>strftime<span class="token punctuation">(</span><span class="token string">'%H:%M:%S'</span><span class="token punctuation">)</span>
<span class="token string">'12:20:59'</span>
</code></pre></div><p>ISO标准输出</p> <p>如果要使输出的时间字符符合ISO标准，请使用isoformat(...):</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a <span class="token operator">=</span> datetime<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">59</span><span class="token punctuation">,</span><span class="token number">899</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a<span class="token punctuation">.</span>isoformat<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token string">'12:20:59.000899'</span>
</code></pre></div><p>如果只是相简单的获得时间的字符串，则使用<code>__str__(...)</code></p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a <span class="token operator">=</span> datetime<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">59</span><span class="token punctuation">,</span><span class="token number">899</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a<span class="token punctuation">.</span>__str__<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token string">'12:20:59.000899'</span>
</code></pre></div><h3 id="datetime类"><a href="#datetime类" aria-hidden="true" class="header-anchor">#</a> datetime类</h3> <p>数据构成
datetime类其实是可以看做是date类和time类的合体，其大部分的方法和属性都继承于这二个类，相关的操作方法请参阅，本文上面关于二个类的介绍。其数据构成也是由这二个类所有的属性所组成的。</p> <div class="language-python extra-class"><pre class="language-python"><code> datetime<span class="token punctuation">(</span>year<span class="token punctuation">,</span> month<span class="token punctuation">,</span> day<span class="token punctuation">[</span><span class="token punctuation">,</span> hour<span class="token punctuation">[</span><span class="token punctuation">,</span> minute<span class="token punctuation">[</span><span class="token punctuation">,</span> second<span class="token punctuation">[</span><span class="token punctuation">,</span> microsecond<span class="token punctuation">[</span><span class="token punctuation">,</span>tzinfo<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><p>专属于datetime的方法和属性
1、 date(…)：返回datetime对象的日期部分：</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a <span class="token operator">=</span> datetime<span class="token punctuation">.</span>datetime<span class="token punctuation">.</span>now<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a
datetime<span class="token punctuation">.</span>datetime<span class="token punctuation">(</span><span class="token number">2017</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">33</span><span class="token punctuation">,</span> <span class="token number">494248</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a<span class="token punctuation">.</span>date<span class="token punctuation">(</span><span class="token punctuation">)</span>
datetime<span class="token punctuation">.</span>date<span class="token punctuation">(</span><span class="token number">2017</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">)</span>
</code></pre></div><p>time(…)：返回datetime对象的时间部分：</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a <span class="token operator">=</span> datetime<span class="token punctuation">.</span>datetime<span class="token punctuation">.</span>now<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a
datetime<span class="token punctuation">.</span>datetime<span class="token punctuation">(</span><span class="token number">2017</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">33</span><span class="token punctuation">,</span> <span class="token number">494248</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span>
datetime<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">33</span><span class="token punctuation">,</span> <span class="token number">494248</span><span class="token punctuation">)</span>
</code></pre></div><p>utctimetuple(…)：返回UTC时间元组：</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a <span class="token operator">=</span> datetime<span class="token punctuation">.</span>datetime<span class="token punctuation">.</span>now<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a
datetime<span class="token punctuation">.</span>datetime<span class="token punctuation">(</span><span class="token number">2017</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">33</span><span class="token punctuation">,</span> <span class="token number">494248</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a<span class="token punctuation">.</span>utctimetuple<span class="token punctuation">(</span><span class="token punctuation">)</span>
time<span class="token punctuation">.</span>struct_time<span class="token punctuation">(</span>tm_year<span class="token operator">=</span><span class="token number">2017</span><span class="token punctuation">,</span> tm_mon<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">,</span> tm_mday<span class="token operator">=</span><span class="token number">22</span><span class="token punctuation">,</span> tm_hour<span class="token operator">=</span><span class="token number">16</span><span class="token punctuation">,</span> tm_min<span class="token operator">=</span><span class="token number">9</span><span class="token punctuation">,</span> tm_sec<span class="token operator">=</span><span class="token number">33</span><span class="token punctuation">,</span> tm_wday<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span> tm_yday<span class="token operator">=</span><span class="token number">81</span><span class="token punctuation">,</span> tm_isdst<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>
</code></pre></div><p>combine(…)：将一个date对象和一个time对象合并生成一个datetime对象：</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a <span class="token operator">=</span> datetime<span class="token punctuation">.</span>datetime<span class="token punctuation">.</span>now<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a
datetime<span class="token punctuation">.</span>datetime<span class="token punctuation">(</span><span class="token number">2017</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">33</span><span class="token punctuation">,</span> <span class="token number">494248</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span>datetime<span class="token punctuation">.</span>datetime<span class="token punctuation">.</span>combine<span class="token punctuation">(</span>a<span class="token punctuation">.</span>date<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>a<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
datetime<span class="token punctuation">.</span>datetime<span class="token punctuation">(</span><span class="token number">2017</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">33</span><span class="token punctuation">,</span> <span class="token number">494248</span><span class="token punctuation">)</span>
</code></pre></div><p>now(…)：返回当前日期时间的datetime对象：</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a <span class="token operator">=</span> datetime<span class="token punctuation">.</span>datetime<span class="token punctuation">.</span>now<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a
datetime<span class="token punctuation">.</span>datetime<span class="token punctuation">(</span><span class="token number">2017</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">33</span><span class="token punctuation">,</span> 
</code></pre></div><p>utcnow(…):返回当前日期时间的UTC datetime对象：</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a <span class="token operator">=</span> datetime<span class="token punctuation">.</span>datetime<span class="token punctuation">.</span>utcnow<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a
datetime<span class="token punctuation">.</span>datetime<span class="token punctuation">(</span><span class="token number">2017</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">26</span><span class="token punctuation">,</span> <span class="token number">54</span><span class="token punctuation">,</span> <span class="token number">935242</span><span class="token punctuation">)</span>
</code></pre></div><p>strptime(…)：根据string, format 2个参数，返回一个对应的datetime对象：</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> datetime<span class="token punctuation">.</span>datetime<span class="token punctuation">.</span>strptime<span class="token punctuation">(</span><span class="token string">'2017-3-22 15:25'</span><span class="token punctuation">,</span><span class="token string">'%Y-%m-%d %H:%M'</span><span class="token punctuation">)</span>
datetime<span class="token punctuation">.</span>datetime<span class="token punctuation">(</span><span class="token number">2017</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">)</span>
</code></pre></div><p>utcfromtimestamp(…):UTC时间戳的datetime对象，时间戳值为time.time()：</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> datetime<span class="token punctuation">.</span>datetime<span class="token punctuation">.</span>utcfromtimestamp<span class="token punctuation">(</span>time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
datetime<span class="token punctuation">.</span>datetime<span class="token punctuation">(</span><span class="token number">2017</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">29</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">654272</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="timedelta类"><a href="#timedelta类" aria-hidden="true" class="header-anchor">#</a> timedelta类</h3> <p>timedelta类是用来计算二个datetime对象的差值的。</p> <p>此类中包含如下属性：</p> <p>1、days:天数</p> <p>2、microseconds：微秒数(&gt;=0 并且 &lt;1秒）</p> <p>3、seconds：秒数(&gt;=0 并且 &lt;1天）</p> <p>日期计算实操</p> <p>获取当前日期时间：</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> now <span class="token operator">=</span> datetime<span class="token punctuation">.</span>datetime<span class="token punctuation">.</span>now<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> now
datetime<span class="token punctuation">.</span>datetime<span class="token punctuation">(</span><span class="token number">2017</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">55</span><span class="token punctuation">,</span> <span class="token number">49</span><span class="token punctuation">,</span> <span class="token number">148233</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> today <span class="token operator">=</span> datetime<span class="token punctuation">.</span>date<span class="token punctuation">.</span>today<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> today
datetime<span class="token punctuation">.</span>date<span class="token punctuation">(</span><span class="token number">2017</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> now<span class="token punctuation">.</span>date<span class="token punctuation">(</span><span class="token punctuation">)</span>
datetime<span class="token punctuation">.</span>date<span class="token punctuation">(</span><span class="token number">2017</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> now<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span>
datetime<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">55</span><span class="token punctuation">,</span> <span class="token number">49</span><span class="token punctuation">,</span> <span class="token number">148233</span><span class="token punctuation">)</span>
</code></pre></div><p>获取上个月第一天和最后一天的日期：</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> today <span class="token operator">=</span> datetime<span class="token punctuation">.</span>date<span class="token punctuation">.</span>today<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> today
datetime<span class="token punctuation">.</span>date<span class="token punctuation">(</span><span class="token number">2017</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> mlast_day <span class="token operator">=</span> datetime<span class="token punctuation">.</span>date<span class="token punctuation">(</span>today<span class="token punctuation">.</span>year<span class="token punctuation">,</span> today<span class="token punctuation">.</span>month<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">-</span> datetime<span class="token punctuation">.</span>timedelta<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> mlast_day
datetime<span class="token punctuation">.</span>date<span class="token punctuation">(</span><span class="token number">2017</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">28</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> mfirst_day <span class="token operator">=</span> datetime<span class="token punctuation">.</span>date<span class="token punctuation">(</span>mlast_day<span class="token punctuation">.</span>year<span class="token punctuation">,</span> mlast_day<span class="token punctuation">.</span>month<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> mfirst_day
datetime<span class="token punctuation">.</span>date<span class="token punctuation">(</span><span class="token number">2017</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
</code></pre></div><p>获取时间差</p> <p>时间差单位为秒</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> start_time <span class="token operator">=</span> datetime<span class="token punctuation">.</span>datetime<span class="token punctuation">.</span>now<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> end_time <span class="token operator">=</span> datetime<span class="token punctuation">.</span>datetime<span class="token punctuation">.</span>now<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span>end_time <span class="token operator">-</span> start_time<span class="token punctuation">)</span><span class="token punctuation">.</span>seconds
</code></pre></div><p>差值不只是可以查看相差多少秒，还可以查看天(days), 秒(seconds), 微秒(microseconds).</p> <p>计算当前时间向后8个小时的时间</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> d1 <span class="token operator">=</span> datetime<span class="token punctuation">.</span>datetime<span class="token punctuation">.</span>now<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> d2 <span class="token operator">=</span> d1 <span class="token operator">+</span> datetime<span class="token punctuation">.</span>timedelta<span class="token punctuation">(</span>hours <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> d2
datetime<span class="token punctuation">.</span>datetime<span class="token punctuation">(</span><span class="token number">2017</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">37</span><span class="token punctuation">,</span> <span class="token number">182240</span><span class="token punctuation">)</span>
</code></pre></div><p>可以计算: 天(days), 小时(hours), 分钟(minutes), 秒(seconds), 微秒(microseconds).</p> <p>计算上周一和周日的日期</p> <div class="language-python extra-class"><pre class="language-python"><code>today <span class="token operator">=</span> datetime<span class="token punctuation">.</span>date<span class="token punctuation">.</span>today<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> today
datetime<span class="token punctuation">.</span>date<span class="token punctuation">(</span><span class="token number">2017</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> today_weekday <span class="token operator">=</span> today<span class="token punctuation">.</span>isoweekday<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> last_sunday <span class="token operator">=</span> today <span class="token operator">-</span> datetime<span class="token punctuation">.</span>timedelta<span class="token punctuation">(</span>days<span class="token operator">=</span>today_weekday<span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> last_monday <span class="token operator">=</span> last_sunday <span class="token operator">-</span> datetime<span class="token punctuation">.</span>timedelta<span class="token punctuation">(</span>days<span class="token operator">=</span><span class="token number">6</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> last_sunday
datetime<span class="token punctuation">.</span>date<span class="token punctuation">(</span><span class="token number">2017</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> last_monday
datetime<span class="token punctuation">.</span>date<span class="token punctuation">(</span><span class="token number">2017</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">)</span>
</code></pre></div><p>计算指定日期当月最后一天的日期和本月天数</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> date <span class="token operator">=</span> datetime<span class="token punctuation">.</span>date<span class="token punctuation">(</span><span class="token number">2017</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">def</span> <span class="token function">eomonth</span><span class="token punctuation">(</span>date_object<span class="token punctuation">)</span><span class="token punctuation">:</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     <span class="token keyword">if</span> date_object<span class="token punctuation">.</span>month <span class="token operator">==</span> <span class="token number">12</span><span class="token punctuation">:</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>         next_month_first_date <span class="token operator">=</span> datetime<span class="token punctuation">.</span>date<span class="token punctuation">(</span>date_object<span class="token punctuation">.</span>year<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     <span class="token keyword">else</span><span class="token punctuation">:</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>         next_month_first_date <span class="token operator">=</span> datetime<span class="token punctuation">.</span>date<span class="token punctuation">(</span>date_object<span class="token punctuation">.</span>year<span class="token punctuation">,</span> date_object<span class="token punctuation">.</span>month<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     <span class="token keyword">return</span> next_month_first_date <span class="token operator">-</span> datetime<span class="token punctuation">.</span>timedelta<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> eomonth<span class="token punctuation">(</span>date<span class="token punctuation">)</span>
datetime<span class="token punctuation">.</span>date<span class="token punctuation">(</span><span class="token number">2017</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">31</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> eomonth<span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">.</span>day
</code></pre></div><p>计算指定日期下个月当天的日期</p> <p>这里要调用上一项中的函数eomonth(...)</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> date <span class="token operator">=</span> datetime<span class="token punctuation">.</span>date<span class="token punctuation">(</span><span class="token number">2017</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span>                                            
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">def</span> <span class="token function">edate</span><span class="token punctuation">(</span>date_object<span class="token punctuation">)</span><span class="token punctuation">:</span>                                                     
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     <span class="token keyword">if</span> date_object<span class="token punctuation">.</span>month <span class="token operator">==</span> <span class="token number">12</span><span class="token punctuation">:</span>                          
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>         next_month_date <span class="token operator">=</span> datetime<span class="token punctuation">.</span>date<span class="token punctuation">(</span>date_object<span class="token punctuation">.</span>year<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span>date_object<span class="token punctuation">.</span>day<span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     <span class="token keyword">else</span><span class="token punctuation">:</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>         next_month_first_day <span class="token operator">=</span> datetime<span class="token punctuation">.</span>date<span class="token punctuation">(</span>date_object<span class="token punctuation">.</span>year<span class="token punctuation">,</span>date_object<span class="token punctuation">.</span>month<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>         <span class="token keyword">if</span> date_object<span class="token punctuation">.</span>day <span class="token operator">&gt;</span> eomonth<span class="token punctuation">(</span>last_month_first_day<span class="token punctuation">)</span><span class="token punctuation">.</span>day<span class="token punctuation">:</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>             next_month_date <span class="token operator">=</span> datetime<span class="token punctuation">.</span>date<span class="token punctuation">(</span>date_object<span class="token punctuation">.</span>year<span class="token punctuation">,</span>date_object<span class="token punctuation">.</span>month<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>eomonth<span class="token punctuation">(</span>last_month_first_day<span class="token punctuation">)</span><span class="token punctuation">.</span>day<span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>         <span class="token keyword">else</span><span class="token punctuation">:</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>             next_month_date <span class="token operator">=</span> datetime<span class="token punctuation">.</span>date<span class="token punctuation">(</span>date_object<span class="token punctuation">.</span>year<span class="token punctuation">,</span> date_object<span class="token punctuation">.</span>month<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span> date_object<span class="token punctuation">.</span>day<span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     <span class="token keyword">return</span> next_month_date
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> edate<span class="token punctuation">(</span>date<span class="token punctuation">)</span>
datetime<span class="token punctuation">.</span>date<span class="token punctuation">(</span><span class="token number">2018</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span>
</code></pre></div><p>要用的时候再看 这部分有点过于详细了 过一遍就行</p></div> <div class="page-edit"><!----> <!----></div> <!----> </div> <!----></div></div>
    <script src="/markdown-note/assets/js/app.10f2f5d4.js" defer></script><script src="/markdown-note/assets/js/5.8faa297c.js" defer></script>
  </body>
</html>
